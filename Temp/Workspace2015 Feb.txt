============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================
New SR  List:
Closed SR List :
Touched SR List :
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
....
===========================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :

DAY SUMMARY:
============================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :

DAY SUMMARY: 
============================================================================================================================================
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ Begin End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================


java -jar D:\software\osw\oswbba.jar -i  D:\root\home\Workspace\SRFolder\3-12775852413\OSWatcher_data_2016JUN05-06\OSWatcher_data_2016JUN05-06\osw_amerusahdcora01.16.06.05\analyze.txt















The objective of ASMLIB is to provide a more efficient mechanism for managing disks and input/output (I/O) processing of ASM storage. The ASMLIB API provides a set of interdependent functions that need to be implemented in a layered fashion. These functions are dependent on the back-end storage implementing the associated functions. From an implementation perspective, these functions are grouped into three collections of functions:

=)> Device discovery

=)> I/O processing

=)> Performance and reliability

======================================================

Device Discovery:

Device discovery identifies and names the storage devices that are operated on by higher-level functions. This function does not require any operating system code and can be implemented as a standalone library invoked and dynamically loaded by the Oracle database. The discovery function makes the characteristics of the disk available to ASM. Disks discovered through ASMLIB do not need to be available through normal operating system interfaces. For example, storage vendors may provide a more efficient method of discovering and locating disks that their own interface driver manages.

The device discovery function takes a discovery string as input from the user and then performs a disk discovery. The output from this procedure is a set of all qualified disks. In a Real Application Clusters (RAC) environment, the discover procedure executes the discovery function in the node in which the procedure was issued. The implementer of ASMLIB generally dictates the syntax of the discovery string. The syntax could be something similar to glob on Unix or it could be more customized to the ASMLIB implementation. When implementing the discovery function, a storage or OS vendor enables the ASM administrator to specify storage devices used by ASM with attributes specific to their particular storage architecture. For example, an Oracle storage partner, such as EMC or Hewlett-Packard, could provide an ASMLIB with a discovery function enabling the ASM administrator to specify disks for database use that reside in a particular storage cabinet. The ASM administrator specifies the vendor cabinet and disks using the vendor’s nomenclature rather than generic operating system names. The benefit is a tighter integration between the database and the storage hardware.

Disk Management and Discovery:

ASMLIB automatically takes the ASM disk name from the name that the ASMLIB administrative tool provides. This simplifies adding disks and correlating OS names with ASM names; also, because disks are prenamed, it eliminates erroneous disk management activities. The user can manually change the name by using the NAME clause while issuing a CREATE DISKGROUP or ADD DISK statement. The default discovery string for ASM is NULL, so with ASMLIB in place, all disks are automatically discovered if NULL is kept as the discovery string. Because the user does not even need to modify the ASM_DISKSTRING, this makes disk discovery much more straightforward.

The ASMLIB permissions are persistent across reboot and in the event of major/ minor number changes, ASMLIB will continue to find its labeled disks. In RAC environments, the disk identification and discovery process is similar to that of a single-instance environment. Once the disks are labeled on one node, the other clustered nodes simply use the default disk discovery string, and discovery is seamless.
======================================================

I/O Processing:

The current standard I/O model imposes OS central processing unit (CPU) overhead partly because of mode and context switches. The deployment of ASMLIB reduces the number of state transitions from kernel-to-user mode by employing a more efficient I/O scheduling and call processing mechanism. A single call to ASMLIB can submit and reap multiple I/Os. This dramatically reduces the number of calls to the operating system when performing I/O. Additionally, all the processes in an instance can use one I/O handle to access the same disk. This eliminates multiple open calls and multiple file descriptors.

I/O processing functions provide an optimized asynchronous interface for scheduling I/O operations and managing I/O operation completion events. These functions, in effect, extend the operating system interface. Consequently, the I/O processing functions must be implemented as a device driver within the operating system kernel.
Future developments by Oracle storage partners, in storage array firmware may allow the transport of database-related metadata to back-end storage devices, which will then be capable of new database-related intelligence.

Reduced Overhead:

ASMLIB provides the capability for a process (RBAL) to perform a global open/close on the disks that are being dropped or closed. Every file and device currently open on the system has an open file descriptor, and the system has a finite number (defined at the system level) of these file descriptors. ASMLIB reduces the number of open file descriptors on the system, thus making it less likely that the system will run out of global file descriptors. Also, the open and close operations are reduced, ensuring orderly cleanup of file descriptors when storage configurations change. A side benefit of this capability is that the database starts up faster. Without ASMLIB, file descriptors often cannot be cleaned up for dropped disks until ASM instances are shut down. This is because idle database foreground processes, which have open file descriptors, never get around to closing file descriptors.

Performance and Reliability:

The highest-layer functions are the performance and reliability functions, which depend on the existence of the I/O processing functions. The performance and reliability functions use the I/O processing control structures for passing metadata between the Oracle database and the back-end storage devices. They enable additional intelligence on the part of back-end storage. This additional intelligence is achieved when metadata transfer is passed through the ASMLIB API.
====================================================== 









from Srini s to All Participants:
bash-4.2$ ls -alrt /dev/db*
crw-r--r--    1 oracle   dba          18, 14 Jul  8 09:30 /dev/db008
crw-r--r--    1 oracle   dba          18,  9 Jul  8 09:30 /dev/db007
crw-r--r--    1 oracle   dba          18, 16 Jul  8 09:30 /dev/db006
crw-r--r--    1 oracle   dba          18, 15 Jul  8 09:30 /dev/db005
crw-r--r--    1 oracle   dba          18,  6 Jul  8 09:30 /dev/db004
crw-r--r--    1 oracle   dba          18, 10 Jul  8 09:30 /dev/db003
crw-r--r--    1 oracle   dba          18, 13 Jul  8 09:30 /dev/db002
crw-r--r--    1 oracle   dba          18,  8 Jul  8 09:30 /dev/db001

from Srini s to All Participants:
bash-4.2$ ls -alrt /dev/vot*
crw-r--r--    1 oracle   dba          18,  5 Jul  8 09:30 /dev/voting03
crw-r--r--    1 oracle   dba          18,  3 Jul  8 09:30 /dev/voting02
crw-r--r--    1 oracle   dba          18,  7 Jul  8 09:30 /dev/voting01

from Srini s to All Participants:
bash-4.2$ ls -alrt /dev/red*
crw-r--r--    1 oracle   dba          18, 11 Jul  8 09:30 /dev/redo02
crw-r--r--    1 oracle   dba          18,  2 Jul  8 09:30 /dev/redo01

from Srini s to All Participants:
bash-4.2$ ls -alrt /dev/tem*
crw-r--r--    1 oracle   dba          18, 17 Jul  8 09:30 /dev/temp01


kfod asm_diskstring='/dev/vot*' disks=all 
kfod asm_diskstring='/dev/red*' disks=all 
kfod asm_diskstring='/dev/db*' disks=all 
kfod asm_diskstring='/dev/tem*' disks=all 


bash-4.2$ kfod asm_diskstring='/dev/red*' disks=all
--------------------------------------------------------------------------------
 Disk          Size Path                                     User     Group
================================================================================
   1:      20480 Mb /dev/redo01                              oracle   dba
   2:      20480 Mb /dev/redo02                              oracle   dba
KFOD-00301: Unable to contact Cluster Synchronization Services (CSS). Return code 2 from kgxgncin.
bash-4.2$ kfod asm_diskstring='/dev/db*' disks=all
--------------------------------------------------------------------------------
 Disk          Size Path                                     User     Group
================================================================================
   1:     103424 Mb /dev/db001                               oracle   dba
   2:     103424 Mb /dev/db002                               oracle   dba
   3:     103424 Mb /dev/db003                               oracle   dba
   4:     103424 Mb /dev/db004                               oracle   dba
   5:     103424 Mb /dev/db005                               oracle   dba
   6:     103424 Mb /dev/db006                               oracle   dba
   7:     103424 Mb /dev/db007                               oracle   dba
   8:     103424 Mb /dev/db008                               oracle   dba
KFOD-00301: Unable to contact Cluster Synchronization Services (CSS). Return code 2 from kgxgncin.
bash-4.2$ kfod asm_diskstring='/dev/tem*' disks=all
--------------------------------------------------------------------------------
 Disk          Size Path                                     User     Group
================================================================================
   1:     103424 Mb /dev/temp01                              oracle   dba
KFOD-00301: Unable to contact Cluster Synchronization Services (CSS). Return code 2 from kgxgncin.
bash-4.2$ kfod asm_diskstring='/dev/vot*' disks=all
--------------------------------------------------------------------------------
 Disk          Size Path                                     User     Group
================================================================================
   1:       2048 Mb /dev/voting01                            oracle   dba
   2:       2048 Mb /dev/voting02                            oracle   dba
   3:       2048 Mb /dev/voting03                            oracle   dba
KFOD-00301: Unable to contact Cluster Synchronization Services (CSS). Return code 2 from kgxgncin.
Error: failed to open a wallet at WRL: 'file:/gpnp/hostname/wallets/peer/'. Make sure it is a valid WRL (valid type, path, etc.). Cannot open wallet with given credenti
alter system set asm_diskstring='/dev/vot*','/dev/redo*','/dev/db*','/dev/temp*' scope=spfile; 


alter system set asm_diskstring='/dev/vot*'
 gpnptool sign -p=./profile.xml.new.us -w=file:$ORACLE_HOME/gpnp//seskacnpdpdb01/wallets/peer/ -o=./profile.xml.new
gpnptool edit -asm_dis='/dev/voting*' -p=profile.xml.new.us -o=profile.xml.new.us -ovr

gpnptool sign -p=./profile.xml.new.us -w=file:$ORACLE_HOME/gpnp/seskacnpdpdb02/wallets/peer/ -o=./profile.xml.new
'/dev/voting*,/dev/redo*,/dev/db*,/dev/temp*'

gpnptool edit -asm_dis='/dev/voting*,/dev/redo*,/dev/db*,/dev/temp*' -p=profile.xml.new.us -o=profile.xml.new.us -ovr

How To Change Grid Infrastructure asm_diskstring After Messed It And Reboot The Cluster? (Doc ID 1337938.1)








http://www.usn-it.de/index.php/2011/07/12/oracle-grid-infrastructure-how-to-recover-from-a-messed-up-asmcssd-diskstring/



Disk is listed at OS level with correct permission and is accessible.

kfred read /dev/asm-disk06

kfbh.type:                            0 ; 0x002: KFBTYP_INVALID                <<< !! HERE 
....
7F5B21444400 00000000 00000000 00000000 00000000  [................]
        Repeat 223 times
KFED-00322: Invalid content encountered during block traversal: [kfbtTraverseBlock][Invalid OSM block type][][0]


kfed read of 1 or more block in a missing disk shows above and is overwhelmly convenient conclude the disk is corrupted, but we should not overlook the possibility.



Step 1:  Irrespective of the platform  customer is in , Take a first 50 MB dd dump of the corrupted disk 

         
         dd if=/dev/asmdisks/ASM06p1 of=/tmp/asmdisks/ASM06p1.txt bs=1M count=50
		 

Step 2 : Check whether the problem disk are indeed an ASM Disk using hexdump or od .


		hexdump -C ASM08p1.txt  | grep ORCLDISK
		dd if=ASM08p1.txt bs=4k|od -t xz|grep ORCLDISK.
		
		
		1st occurance of kfdhdb.driver.provstr i,e ORCLDISK comes at 32 byte , and the next would be in the backup block ,kfdhdb.driver.provstr is over reference point , 
		below I have shared the offset of kfdhdb.driver.provstr for various AU size .

        =====================================================================================
		A valid ASM Disk with BOTH Header and backup Block intact would show below results  ( AU size of the disk is 1 MB )
		
        [grid@samrac2 peer]$ hexdump -C ASM08p1.txt  | grep ORCLDISK
		00000020  4f 52 43 4c 44 49 53 4b  44 41 54 41 00 00 00 00  |ORCLDISK........|  << Header's kfdhdb.driver.provstr   
		001fe020  4f 52 43 4c 44 49 53 4b  44 41 54 41 00 00 00 00  |ORCLDISK........|  << Backup Block kfdhdb.driver.provstr 

        =====================================================================================

         		 
	
		Each asm block is of 4KB (irrespective of the AU size of the disk)
		
        So For a 1 MB AU there will be total 256 (1048576/4096=256) blocks numbering 0 to 255.


		Allocation unit size   |Block Number on AU 1|  kfdhdb.driver.provstr offset  | kfdhdb.driver.provstr offset in backup block | 
		
														(32 byte ) 					 (2088992 bytes = 1MB+ 254*4KB +32 )
		           1  MB            254  				 hex  00000020 				  hex 001fe020  
														 octal 0000040				  octal 7760040
		                           
		
		           4  MB 			1022	 			(32 byte )					 (8380448 bytes = 4MB+ 1022*4KB+32)
														 hex  00000020 				  hex 007fe020
														 octal 0000040				  octal 37760040
							
							
				   8 MB             2046 				(32 byte )					 (16769056 bytes = 8MB+ 2046*4KB+32)
														 hex  00000020 			 	  hex  00ffe020
														 octal 0000040	              octal 77760040

				   
				   16 MB          	4094				(32 byte )					( 33546272 bytes = 16MB+ 4094*4KB+32)
														 hex  00000020 				  hex 01ffe020
												    	 octal 0000040				  octal 177760040
														 
														 

		
		
		
Step 3 : Calculate the misalignment of the disk header 


        Case 1 :  Header is missing and only backup block seems to be availble and offset is correct 
		[oracle@cehaovmsp101 ASM06-07]$ hexdump -C ASM07p1.txt | grep  ORCLDISK
		001fe020  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|   <<  kfdhdb.driver.provstr  ( )
		[oracle@cehaovmsp101 ASM06-07]$

		
		Case 2 : Header is missing and only backup block seems to be availble but partation shifted inside	
		
		[oracle@cehaovmsp101 ASM06-07]$ hexdump -C ASM06p1.txt | grep  ORCLDISK
		00105e20  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|   <<  kfdhdb.driver.provstr  (  )
	
	     Misalignment : 001fe020 - 00105e20 = F8200  = 1016320  bytes inside 
	
		Case 3 : Header and backup block both are availble but partation shifted outside 
        oracle@cehaovmsp101 ASM06-07]$ hexdump -C ASM09p1.txt | grep  ORCLDISK
		00000220  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|
		001fe220  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|   <<  kfdhdb.driver.provstr  ( )
		
		Misalignment : 00000220 - 00000020 = 200 = 512 bytes outside 
		
		
        Case 4 : If ORCLDISK  was not found in first 50 MB , check entire disk,  Or check if the luns are mapped corrected at the OS level 
		
		
			

		
		
		
		
		
Step 4. Check if the blocks are intact.


        Case 2 :  dd if=ASM06p1.txt of=ASM06p1.txt_skip3584   bs=512 skip=7
		
        oracle@cehaovmsp101 ASM06-07]$ dd if=ASM06p1.txt of=ASM06p1.txt_skip3584   bs=512 skip=7
		102393+0 records in
		102393+0 records out
		52425216 bytes (52 MB) copied, 0.260755 s, 201 MB/s
		[oracle@cehaovmsp101 ASM06-07]$ kfed read ASM06p1.txt_skip3584 aun=0 blkn=0
		kfbh.endian:                          1 ; 0x000: 0x01
		kfbh.hard:                          130 ; 0x001: 0x82
		kfbh.type:                            3 ; 0x002: KFBTYP_ALLOCTBL
		kfbh.datfmt:                          2 ; 0x003: 0x02
		kfbh.block.blk:                     251 ; 0x004: blk=251
		kfbh.block.obj:              2147483650 ; 0x008: disk=2
		kfbh.check:                  2184293629 ; 0x00c: 0x8231acfd
		kfbh.fcn.base:                  1547745 ; 0x010: 0x00179de1
		kfbh.fcn.wrap:                        0 ; 0x014: 0x00000000
		kfbh.spare1:                          0 ; 0x018: 0x00000000
		kfbh.spare2:                          0 ; 0x01c: 0x00000000
		kfdatb.aunum:                    111552 ; 0x000: 0x0001b3c0
        
		
		
		Case 3 :  dd if=ASM06p1.txt of=ASM09p1.txt_skip512   bs=512 skip=1
		
		102393+0 records in
		102393+0 records out
		52425216 bytes (52 MB) copied, 0.260755 s, 201 MB/s
		[oracle@cehaovmsp101 ASM06-07]$ kfed read ASM09p1.txt_skip512  aun=0 blkn=0
        kfbh.endian:                          1 ; 0x000: 0x01
		kfbh.hard:                          130 ; 0x001: 0x82
		kfbh.type:                            1 ; 0x002: KFBTYP_DISKHEAD
		kfbh.datfmt:                          1 ; 0x003: 0x01
		kfbh.block.blk:                     254 ; 0x004: blk=2
		kfbh.block.obj:              2147483650 ; 0x008: disk=3
		kfbh.check:                  1516277106 ; 0x00c: 0x5a608d72
		kfbh.fcn.base:                  1547745 ; 0x010: 0x00179de1
		kfbh.fcn.wrap:                        0 ; 0x014: 0x00000000
		kfbh.spare1:                          0 ; 0x018: 0x00000000
		kfbh.spare2:                          0 ; 0x01c: 0x00000000
		kfdhdb.driver.provstr:         ORCLDISK ; 0x000: length=8




         If all the blocks are intact after a skipping calculated amount bytes , it proved that the partition was shifted x bytes inside/outside depending on case . 
         Please engage the OS vendor to point the partition at right location , so that 1st occurance of ORCLDISK comes at 32 byte (0000040 in octa / 00000020 in hex)
		 
		 If the block are not intact its a curroption recreate the diskgroup .

		
		
	



My test machine 

00000020  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|
001fe020  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|

kfdhdb.secsize:                     512 ; 0x0b8: 0x0200
kfdhdb.blksize:                    4096 ; 0x0ba: 0x1000
kfdhdb.ausize:                  1048576 ; 0x0bc: 0x00100000      <<< !!HERE 



On your server 

[oracle@cehaovmsp101 ASM06-07]$ hexdump -C ASM06p1.txt | grep ORCLDISK
00105e20  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|  <<< offset of the backup block is reduces by 1016320 bytes

kfdhdb.secsize:                     512 ; 0x0b8: 0x0200
kfdhdb.blksize:                    4096 ; 0x0ba: 0x1000
kfdhdb.ausize:                  1048576 ; 0x0bc: 0x00100000


001fe020 - 00105e20 = F8200 (1016320)10  bytes are errased from the begining of the disk header 



[oracle@cehaovmsp101 ASM06-07]$ dd if=ASM06p1.txt of=ASM06p1.txt_skip992KB512B   bs=512 skip=2095
100305+0 records in
100305+0 records out
51356160 bytes (51 MB) copied, 0.843557 s, 60.9 MB/s
[oracle@cehaovmsp101 ASM06-07]$ hexdump -C ASM06p1.txt_skip992KB512B | grep ORCLDISK
00000020  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|                       <<< backup block is intact 

[oracle@cehaovmsp101 ASM06-07]$ kfed read ASM06p1.txt_skip992KB512B
kfbh.endian:                          1 ; 0x000: 0x01
kfbh.hard:                          130 ; 0x001: 0x82
kfbh.type:                            1 ; 0x002: KFBTYP_DISKHEAD
kfbh.datfmt:                          1 ; 0x003: 0x01
kfbh.block.blk:                     254 ; 0x004: blk=254
kfbh.block.obj:              2147483650 ; 0x008: disk=2
kfbh.check:                  1516277106 ; 0x00c: 0x5a608d72
kfbh.fcn.base:                  1547745 ; 0x010: 0x00179de1
kfbh.fcn.wrap:                        0 ; 0x014: 0x00000000
kfbh.spare1:                          0 ; 0x018: 0x00000000
kfbh.spare2:                          0 ; 0x01c: 0x00000000
kfdhdb.driver.provstr:         ORCLDISK ; 0x000: length=8
kfdhdb.driver.reserved[0]:            0 ; 0x008: 0x00000000
kfdhdb.driver.reserved[1]:            0 ; 0x00c: 0x00000000
kfdhdb.driver.reserved[2]:            0 ; 0x010: 0x00000000
kfdhdb.driver.reserved[3]:            0 ; 0x014: 0x00000000
kfdhdb.driver.reserved[4]:            0 ; 0x018: 0x00000000
kfdhdb.driver.reserved[5]:            0 ; 0x01c: 0x00000000
kfdhdb.compat:                186646528 ; 0x020: 0x0b200000
kfdhdb.dsknum:                        2 ; 0x024: 0x0002
kfdhdb.grptyp:                        1 ; 0x026: KFDGTP_EXTERNAL
kfdhdb.hdrsts:                        3 ; 0x027: KFDHDR_MEMBER
kfdhdb.dskname:             DATA01_0002 ; 0x028: length=11
kfdhdb.grpname:                  DATA01 ; 0x048: length=6
kfdhdb.fgname:              DATA01_0002 ; 0x068: length=11
kfdhdb.capname:                         ; 0x088: length=0
kfdhdb.crestmp.hi:             33034410 ; 0x0a8: HOUR=0xa DAYS=0x5 MNTH=0x4 YEAR=0x7e0
kfdhdb.crestmp.lo:           2471000064 ; 0x0ac: USEC=0x0 MSEC=0x21e SECS=0x34 MINS=0x24
kfdhdb.mntstmp.hi:             33034410 ; 0x0b0: HOUR=0xa DAYS=0x5 MNTH=0x4 YEAR=0x7e0
kfdhdb.mntstmp.lo:           2471004160 ; 0x0b4: USEC=0x0 MSEC=0x222 SECS=0x34 MINS=0x24
kfdhdb.secsize:                     512 ; 0x0b8: 0x0200
kfdhdb.blksize:                    4096 ; 0x0ba: 0x1000













ception in thread "main" java.lang.NoClassDefFoundError: oracle/ops/verification/client/CluvfyDriver
Caused by: java.lang.ClassNotFoundException: oracle.ops.verification.client.CluvfyDriver
        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
Could not find the main class: oracle.ops.verification.client.CluvfyDriver.  Program will exit.


ApplySession::apply failed: Archive not applied /epic/patch/22738641/22291127/21948354/files/lib/libserver12.a/kjbr.o to /u02/app/12.1.0.2/grid/lib/libserver12.a... ''
                             Archive not applied /epic/patch/22738641/22291127/21948354/files/lib/libgeneric12.a/dbgrfd.o to /u02/app/12.1.0.2/grid/lib/libgeneric12.a... ''

							 
							 
							 [May 24, 2016 11:16:42 PM]   OUI-67049:Updating archive file "/u02/app/12.1.0.2/grid/lib/libserver12.a"  with "lib/libserver12.a/qmxtk.o"
[May 24, 2016 11:16:42 PM]   Stack Description: java.lang.RuntimeException: /usr/bin/ar: /u02/app/12.1.0.2/grid/lib/libserver12.a: File in wrong format
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ArchiveAction.runOneCommand(ArchiveAction.java:630)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ArchiveAction.runArCommand(ArchiveAction.java:605)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ArchiveAction.apply(ArchiveAction.java:1713)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ApplySession.modifySystem(ApplySession.java:1171)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ApplySession.apply(ApplySession.java:913)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ApplySession.processLocal(ApplySession.java:4336)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ApplySession.process(ApplySession.java:5367)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ApplySession.process(ApplySession.java:5214)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.OPatchACL.processApply(OPatchACL.java:308)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.opatchutil.NApply.process(NApply.java:1145)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.opatchutil.OUSession.napply(OUSession.java:1088)
[May 24, 2016 11:16:42 PM]   StackTrace: sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[May 24, 2016 11:16:42 PM]   StackTrace: sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[May 24, 2016 11:16:42 PM]   StackTrace: sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[May 24, 2016 11:16:42 PM]   StackTrace: java.lang.reflect.Method.invoke(Method.java:597)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.UtilSession.process(UtilSession.java:317)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.OPatchSession.main(OPatchSession.java:2580)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.OPatch.main(OPatch.java:626)
[May 24, 2016 11:16:42 PM]   OUI-67049:Updating archive file "/u02/app/12.1.0.2/grid/rdbms/lib/libdsga12.a"  with "rdbms/lib/libdsga12.a/kqf4.o"
[May 24, 2016 11:16:42 PM]   Copy Action does not have file version.




[May 24, 2016 11:16:42 PM]   OUI-67049:Updating archive file "/u02/app/12.1.0.2/grid/lib/libgeneric12.a"  with "lib/libgeneric12.a/qmxx.o"
[May 24, 2016 11:16:42 PM]   Stack Description: java.lang.RuntimeException: /usr/bin/ar: /u02/app/12.1.0.2/grid/lib/libgeneric12.a: Malformed archive
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ArchiveAction.runOneCommand(ArchiveAction.java:630)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ArchiveAction.runArCommand(ArchiveAction.java:605)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ArchiveAction.apply(ArchiveAction.java:1713)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ApplySession.modifySystem(ApplySession.java:1171)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ApplySession.apply(ApplySession.java:913)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ApplySession.processLocal(ApplySession.java:4336)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ApplySession.process(ApplySession.java:5367)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.ApplySession.process(ApplySession.java:5214)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.OPatchACL.processApply(OPatchACL.java:308)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.opatchutil.NApply.process(NApply.java:1145)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.opatchutil.OUSession.napply(OUSession.java:1088)
[May 24, 2016 11:16:42 PM]   StackTrace: sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[May 24, 2016 11:16:42 PM]   StackTrace: sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[May 24, 2016 11:16:42 PM]   StackTrace: sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[May 24, 2016 11:16:42 PM]   StackTrace: java.lang.reflect.Method.invoke(Method.java:597)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.UtilSession.process(UtilSession.java:317)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.OPatchSession.main(OPatchSession.java:2580)
[May 24, 2016 11:16:42 PM]   StackTrace: oracle.opatch.OPatch.main(OPatch.java:626)
[May 24, 2016 11:16:42 PM]   OUI-67049:Updating archive file "/u02/app/12.1.0.2/grid/lib/libcommon12.


[root@yeb bin]# ./kfod op=patchlvl
-------------------
Current Patch level
===================
2528224568
[root@yeb bin]#  ./kfod op=patches
---------------
List of Patches
===============
19769480
20299023
20831110
21359755
21359758 <<<< !HERE 
21359761 <<<< !HERE 
21436941

Grid Infrastructure Patch(es): 21436941 22291127 22502518 22502555
DB Patch(es): 22291127 22502555 22674709

root@nug bin]# ./kfod op=patchlvl
-------------------
Current Patch level
===================
3892811207
[root@nug bin]# ./kfod op=patches
---------------
List of Patches
===============
19769480
20299023
20831110
21359755
21436941
21948354    <<<< !HERE 
22291127    <<<< !HERE 




Patch 22738641 as following patchs  COMBO OF OJVM COMPONENT 12.1.0.2.160419 DBPSU + GIPSU 12.1.0.2.160419 (APR2016)

22291127	DATABASE PATCH SET UPDATE 12.1.0.2.160419	(Oracle Database)
22502518	ACFS PATCH SET UPDATE 12.1.0.2.160419	(Oracle Database)
22502555	OCW PATCH SET UPDATE 12.1.0.2.160419	(Oracle Database)
21436941	DBWLM PATCH SET UPDATE 12.1.0.2.5	(Oracle Database)
22674709	OJVM PATCH SET UPDATE 12.1.0.2.160419	(Oracle Java Technology)
/epic/patch/22738641 -oh /u02/app/12.1.0.2/grid -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp

opatch apply -oh /u02/app/12.1.0.2/grid -local /epic/patch/22738641/22291127 -silent  -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh /u02/app/12.1.0.2/grid -local /epic/patch/22738641/22502555  -silent -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh /u02/app/12.1.0.2/grid -local /epic/patch/22738641/21436941  -silent -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh /u02/app/12.1.0.2/grid -local /epic/patch/22738641/22502518  -silent -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh /u02/app/12.1.0.2/grid -local /epic/patch/22738641/22674709  -silent -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp

DB Patch(es): 22291127 22502555 22674709
/epic/patch/22738641/22291127/custom/scripts/prepatch.sh -dbhome <DBHOME>
/epic/patch/22738641/22502555/custom/scripts/prepatch.sh -dbhome <DBHOME>
/epic/patch/22738641/22674709/custom/scripts/prepatch.sh -dbhome <DBHOME>



opatch apply -oh /export/app/oracle/product/12.1.0/dbhome2 -local /epic/patch/newpatch/22738641/22291127/ -silent  -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh /export/app/oracle/product/12.1.0/dbhome2 -local /epic/patch/newpatch/22738641/22502555/  -silent -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh /export/app/oracle/product/12.1.0/dbhome2 -local /epic/patch/newpatch/22738641/22674709/  -silent -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp



/epic/patch/newpatch/22738641/22502555/custom/scripts/postpatch.sh -dbhome /export/app/oracle/product/12.1.0/dbhome2


40
80
81
65
80
85
86

-----
73%


77
60
46
50
35
70
-------
56%

as a root user 
#GRID_HOME/install/rootcrs.pl -unlock


as oracle user
opatch apply -oh <GI_HOME> -local <PATCH_LOCATION>/22738641/22291127 -silent  -ocmrf /export/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh <GI_HOME> -local <PATCH_LOCATION>/22738641/22502555  -silent -ocmrf /export/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh <GI_HOME> -local <PATCH_LOCATION>/22738641/21436941  -silent -ocmrf /export/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh <GI_HOME> -local <PATCH_LOCATION>/22738641/22502518  -silent -ocmrf /export/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp


as oracle user
$/epic/patch/22738641/22502555/custom/scripts/prepatch.sh -dbhome <DBHOME>

opatch apply -oh /export/app/oracle/product/12.1.0/dbhome2 -local /epic/patch/newpatch/22738641/22291127/ -silent  -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh /export/app/oracle/product/12.1.0/dbhome2 -local /epic/patch/newpatch/22738641/22502555/  -silent -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp
opatch apply -oh /export/app/oracle/product/12.1.0/dbhome2 -local /epic/patch/newpatch/22738641/22674709/  -silent -ocmrf /u02/app/12.1.0.2/grid/OPatch/ocm/bin/ocm.rsp

/epic/patch/22738641/22502555/custom/scripts/postpatch.sh -dbhome <DBHOME>


++ As the root user complete the patching  
$GRID_HOME/rdbms/install/rootadd_rdbms.sh
$GRID_HOME/crs/install/rootcrs.pl -postpatch





[oracle@cehaovmsp101 asm]$  hexdump -C data1.dump |  grep ORCLDISK
001f6220  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|
^C


[oracle@cehaovmsp101 asm]$ dd if=data1.dump of=data1.dump2au bs=4096 skip=256 count=256
256+0 records in
256+0 records out
1048576 bytes (1.0 MB) copied, 0.00125513 s, 835 MB/s


[oracle@cehaovmsp101 asm]$  hexdump -C  data1.dump2au |  grep ORCLDISK
000f6220  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|


[oracle@cehaovmsp101 asm]$ dd if=data1.dump2au of=data1.dump2au.246blk bs=4096 skip=246 count=1
1+0 records in
1+0 records out
4096 bytes (4.1 kB) copied, 3.7737e-05 s, 109 MB/s


[oracle@cehaovmsp101 asm]$  hexdump -C data1.dump2au.246blk |  grep ORCLDISK
00000220  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|

[oracle@cehaovmsp101 asm]$ dd if=data1.dump2au.246blk of=data1.dump2au.246blk.512byte bs=512 skip=1
7+0 records in
7+0 records out
3584 bytes (3.6 kB) copied, 6.649e-05 s, 53.9 MB/s


[oracle@cehaovmsp101 asm]$  hexdump -C data1.dump2au.246blk.512byte |  grep ORCLDISK
00000020  4f 52 43 4c 44 49 53 4b  00 00 00 00 00 00 00 00  |ORCLDISK........|

[oracle@cehaovmsp101 asm]$ kfed read data1.dump2au.246blk.512byte
kfbh.endian:                          0 ; 0x000: 0x00
kfbh.hard:                            0 ; 0x001: 0x00
kfbh.type:                            0 ; 0x002: KFBTYP_INVALID
kfbh.datfmt:                          0 ; 0x003: 0x00
kfbh.block.blk:                       0 ; 0x004: blk=0
kfbh.block.obj:                       0 ; 0x008: file=0
kfbh.check:                           0 ; 0x00c: 0x00000000
kfbh.fcn.base:                        0 ; 0x010: 0x00000000
kfbh.fcn.wrap:                        0 ; 0x014: 0x00000000
kfbh.spare1:                          0 ; 0x018: 0x00000000
kfbh.spare2:                          0 ; 0x01c: 0x00000000
7F9718635400 00000000 00000000 00000000 00000000  [................]
  Repeat 255 times
KFED-00322: Invalid content encountered during block traversal: [kfbtTraverseBlock][Invalid OSM block type][][0]



== Node alertslim-crms-db11.log ==
[ctssd(7096)]CRS-2409:The clock on host slim-crms-db11 is not synchronous with the mean cluster time. No action has been taken as the Cluster Time Synchronization Service is running in observer mode.
2016-05-21 04:40:03.774:  [ctssd(7096)]CRS-2409:The clock on host slim-crms-db11 is not synchronous with the mean cluster time. No action has been taken as the Cluster Time Synchronization Service is running in observer mode.
2016-05-21 05:05:06.222:  [cssd(6700)]CRS-1612:Network communication with node slim-crms-db12 (2) missing for 50% of timeout interval.  Removal of this node from cluster in 14.328 seconds
2016-05-21 05:05:13.144:  [cssd(6700)]CRS-1611:Network communication with node slim-crms-db12 (2) missing for 75% of timeout interval.  Removal of this node from cluster in 7.406 seconds
2016-05-21 05:05:18.144:  [cssd(6700)]CRS-1610:Network communication with node slim-crms-db12 (2) missing for 90% of timeout interval.  Removal of this node from cluster in 2.406 seconds
2016-05-21 05:05:22.175:  [cssd(3740)]CRS-1632:Node slim-crms-db12 is being removed from the cluster in cluster incarnation 354313682
2016-05-21 05:05:22.206:  [cssd(10872)]CRS-1601:CSSD Reconfiguration complete. Active nodes are slim-crms-db11 .
2016-05-21 05:05:22.222:  [crsd(6520)]CRS-5504:Node down event reported for node 'slim-crms-db12'.
2016-05-21 05:05:22.581:  [ctssd(6172)]CRS-2407:The new Cluster Time Synchronization Service reference node is host slim-crms-db11.


== Node alertslim-crms-db12.log ==
2016-05-15 11:59:12.383:  [C:\app\grid\12.1.0\bin\oraagent.exe(13004)]CRS-5818:Aborted command 'check' for resource 'ora.LISTENER_SCAN2.lsnr'. Details at (:CRSAGF00113:) {0:17:2} in C:\app\grid\12.1.0\log\slim-crms-db12\agent\crsd\oraagent_system\oraagent_system.log.
2016-05-21 05:16:57.541:  [ohasd(1264)]CRS-0714:Oracle Clusterware Release 12.1.0.1.0 - Production Copyright 1996, 2010 Oracle. All rights reserved.
2016-05-21 05:16:58.652:  [ohasd(1264)]CRS-2112:The OLR service started on node slim-crms-db12.
2016-05-21 05:16:59.849:  [ohasd(1264)]CRS-1301:Oracle High Availability Service started on node slim-crms-db12.
2016-05-21 05:16:59.849:  [ohasd(2332)]CRS-8017:location: C:\app\grid\12.1.0\log\slim-crms-db12\lastgasp has 2 reboot advisory log files, 0 were announced and 0 errors occurred
2016-05-21 05:17:03.500:  [C:\app\grid\12.1.0/bin/oraagent.exe(924)]CRS-5011:Check of resource "ora.asm" failed: details at "(:CLSN00006:)" in "C:\app\grid\12.1.0\log\slim-crms-db12\agent\ohasd\oraagent_system\oraagent_system.log"
2016-05-21 05:17:12.341:  [gpnpd(1216)]CRS-2328:GPNPD started on node slim-crms-db12. 
2016-05-21 05:17:43.187:  [cssd(4972)]CRS-1713:CSSD daemon is started in hub mode
2016-05-21 05:18:09.693:  [cssd(4972)]CRS-1707:Lease acquisition for node slim-crms-db12 number 2 completed
2016-05-21 05:18:15.883:  [cssd(4972)]CRS-1621:The IPMI configuration data for this node stored in the Oracle registry is incomplete; details at (:CSSNK00002:) in C:\app\grid\12.1.0\log\slim-crms-db12\cssd\ocssd.log
2016-05-21 05:18:15.883:  [cssd(4972)]CRS-1617:The information required to do node kill for node slim-crms-db12 is incomplete; details at (:CSSNM00004:) in C:\app\grid\12.1.0\log\slim-crms-db12\cssd\ocssd.log
2016-05-21 05:18:16.357:  [cssd(4972)]CRS-1605:CSSD voting file is online: \\.\ORCLDISK_OCR_VOTE2; details in C:\app\grid\12.1.0\log\slim-crms-db12\cssd\ocssd.log.
2016-05-21 05:18:16.832:  [cssd(4972)]CRS-1605:CSSD voting file is online: \\.\ORCLDISK_OCR_VOTE3; details in C:\app\grid\12.1.0\log\slim-crms-db12\cssd\ocssd.log.
2016-05-21 05:18:17.291:  [cssd(4972)]CRS-1605:CSSD voting file is online: \\.\ORCLDISK_OCR_VOTE1; details in C:\app\grid\12.1.0\log\slim-crms-db12\cssd\ocssd.log.



crsdata_20160521_1345\app\grid\12.1.0\log\slim-crms-db12\cssd\ocssd.log

2016-05-21 05:04:44.410: [    CSSD][5632]clssgmcpDataUpdtCmpl: Status 0 mbr data updt memberID 10:2:2 from clientID 2:25:4
2016-05-21 05:04:44.598: [    CSSD][16500]clssnmSendingThread: sending status msg to all nodes
2016-05-21 05:04:44.598: [    CSSD][16500]clssnmSendingThread: sent 4 status msgs to all nodes
2016-05-21 05:04:46.426: [    CSSD][15496]clssgmMbrDataUpdt: Processing member data change type 1, size 4 for group HB+ASM, memberID 10:2:2
2016-05-21 05:04:46.426: [    CSSD][15496]clssgmMbrDataUpdt: Sending member data change to GMP for group HB+ASM, memberID 10:2:2
2016-05-21 05:04:46.426: [    CSSD][7400]clssgmpcMemberDataUpdt: grockName HB+ASM memberID 10:2:2, datatype 1 datasize 4
2016-05-21 05:04:46.426: [    CSSD][5632]clssgmcpDataUpdtCmpl: Status 0 mbr data updt memberID 10:2:2 from clientID 2:25:4
2016-05-21 05:04:46.567: [    CSSD][15496]clssgmMbrDataUpdt: Processing member data change type 1, size 401 for group GR+HI_GCR, memberID 7:2:0
2016-05-21 05:04:46.567: [    CSSD][15496]clssgmMbrDataUpdt: Sending member data change to GMP for group GR+HI_GCR, memberID 7:2:0
2016-05-21 05:04:46.582: [    CSSD][7400]clssgmpcMemberDataUpdt: grockName GR+HI_GCR memberID 7:2:0, datatype 1 datasize 401
2016-05-21 05:04:46.582: [    CSSD][5632]clssgmcpDataUpdtCmpl: Status 0 mbr data updt memberID 7:2:0 from clientID 2:24:2
2016-05-21 05:04:48.520: [    CSSD][15496]clssgmMbrDataUpdt: Processing member data change type 1, size 4 for group HB+ASM, memberID 10:2:2
2016-05-21 05:04:48.520: [    CSSD][15496]clssgmMbrDataUpdt: Sending member data change to GMP for group HB+ASM, memberID 10:2:2
2016-05-21 05:04:48.520: [    CSSD][7400]clssgmpcMemberDataUpdt: grockName HB+ASM memberID 10:2:2, datatype 1 datasize 4
2016-05-21 05:04:48.520: [    CSSD][5632]clssgmcpDataUpdtCmpl: Status 0 mbr data updt memberID 10:2:2 from clientID 2:25:4
2016-05-21 05:04:48.598: [    CSSD][16500]clssnmSendingThread: sending status msg to all nodes
2016-05-21 05:04:48.598: [    CSSD][16500]clssnmSendingThread: sent 4 status msgs to all nodes
2016-05-21 05:17:42.238: [    CSSD][4972](TLM) Starting CSS daemon, version 12.1.0.1.0 with uniqueness value 1463779062
2016-05-21 05:17:42.238: [    CSSD][4972]clsu_load_ENV_levels: Module = CSSD, LogLevel = 2, TraceLevel = 0
2016-05-21 05:17:42.238: [    CSSD][4972]clsu_load_ENV_levels: Module = GIPCNM, LogLevel = 2, TraceLevel = 0


###  crsdata_20160521_1406\app\grid\12.1.0\log\slim-crms-db11\cssd\ocssd.log
2016-05-21 05:05:05.644: [    CSSD][7164]clssgmpcMemberDataUpdt: grockName HB+ASM memberID 10:2:1, datatype 1 datasize 4
2016-05-21 05:05:05.644: [    CSSD][6164]clssgmcpDataUpdtCmpl: Status 0 mbr data updt memberID 10:2:1 from clientID 1:25:4
2016-05-21 05:05:06.222: [    CSSD][6700]clssnmPollingThread: node slim-crms-db12 (2) at 50% heartbeat fatal, removal in 14.328 seconds
2016-05-21 05:05:06.222: [    CSSD][6700]clssnmPollingThread: node slim-crms-db12 (2) is impending reconfig, flag 2491406, misstime 15672
2016-05-21 05:05:06.222: [    CSSD][6700]clssnmPollingThread: local diskTimeout set to 27000 ms, remote disk timeout set to 27000, impending reconfig status(1)
2016-05-21 05:05:06.222: [    CSSD][6668]clssnmvDHBValidateNCopy: node 2, slim-crms-db12, has a disk HB, but no network HB, DHB has rcfg 354313682, wrtcnt, 27247789, LATS 534625703, lastSeqNo 27247581, uniqueness 1461729624, timestamp 1463778290/664608125
2016-05-21 05:05:06.222: [    CSSD][6688]clssnmvDHBValidateNCopy: node 2, slim-crms-db12, has a disk HB, but no network HB, DHB has rcfg 354313682, wrtcnt, 27247791, LATS 534625703, lastSeqNo 27247577, uniqueness 1461729624, timestamp 1463778290/664609000
2016-05-21 05:05:06.253: [    CSSD][5948]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778306/534625734
2016-05-21 05:05:06.409: [    CSSD][4284]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778306/534625890
2016-05-21 05:05:06.722: [    CSSD][6684]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778306/534626203
2016-05-21 05:05:06.753: [    CSSD][5948]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778306/534626234
2016-05-21 05:05:06.909: [    CSSD][4284]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778306/534626390
2016-05-21 05:05:07.222: [    CSSD][6684]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778307/534626703
2016-05-21 05:05:07.222: [    CSSD][4284]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778307/534626703
2016-05-21 05:05:07.222: [    CSSD][5948]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778307/534626703
....
2016-05-21 05:05:09.737: [    CSSD][6684]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778309/534629218
2016-05-21 05:05:09.737: [    CSSD][4284]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778309/534629218
2016-05-21 05:05:09.737: [    CSSD][5948]clssnmvDiskPing: Writing with status 0x3, timestamp 1463778309/534629218



FileName   ###alert_EWH1_part.log
------------


Wed May 18 01:07:43 2016 Index ETDW.I_TDWNETWORKEVENTS_CUSTKEY or some [sub]partitions of the index have been marked unusable
                        Index ETDW.I_TDWNETWORKEVENTS_MSISDN or some [sub]partitions of the index have been marked unusable
Wed May 18 01:07:53 2016 Index ETDW.I_TDWNETWORKEVENTS_MSISDN or some [sub]partitions of the index have been marked unusable
Wed May 18 01:20:30 2016 ***********************************************************************
Fatal NI connect error 12170.

 VERSION INFORMATION:
TNS for IBM/AIX RISC System/6000: Version 11.2.0.2.0 - Production
TCP/IP NT Protocol Adapter for IBM/AIX RISC System/6000: Version 11.2.0.2.0 - Production
Oracle Bequeath NT Protocol Adapter for IBM/AIX RISC System/6000: Version 11.2.0.2.0 - Production
 Time: 18-MAY-2016 01:28:45
 Tracing not turned on.
 Tns error struct:
ns main err code: 12535

TNS-12535: TNS:operation timed out
ns secondary err code: 12560
nt main err code: 505

TNS-00505: Operation timed out
nt secondary err code: 78
nt OS err code: 0
 Client address: (ADDRESS=(PROTOCOL=tcp)(HOST=10.162.16.114)(PORT=57613))
Wed May 18 01:31:03 2016 Running KSFV I/O slave I601 os pid=44367898
Wed May 18 01:31:10 2016 Running KSFV I/O slave I701 os pid=52691252
Wed May 18 01:31:17 2016 Running KSFV I/O slave I801 os pid=63832258
Wed May 18 01:31:23 2016 Running KSFV I/O slave I901 os pid=46989336
Wed May 18 01:31:30 2016 Running KSFV I/O slave Ia01 os pid=24248386
Wed May 18 01:31:36 2016 Running KSFV I/O slave Ib01 os pid=32178480
Wed May 18 01:31:47 2016 ALTER SYSTEM ARCHIVE LOG
Wed May 18 01:31:49 2016 Thread 1 advanced to log sequence 737384 (LGWR switch)
 Current log# 54 seq# 737384 mem# 0: +EWH_FDATA/ewh9/onlinelog/group_54.332.885160203
 Current log# 54 seq# 737384 mem# 1: +EWH_FRA/ewh9/onlinelog/group_54.387.885160229
Wed May 18 01:32:19 2016 Deleted Oracle managed file +EWH_FRA/ewh9/archivelog/2016_05_17/thread_2_seq_376340.496.912073341
Wed May 18 01:33:26 2016 Archived Log entry 1309034 added for thread 1 sequence 737383 ID 0x1e203fd0 dest 1:
Wed May 18 01:33:32 2016 ALTER SYSTEM ARCHIVE LOG
Wed May 18 01:33:33 2016 Thread 1 advanced to log sequence 737385 (LGWR switch)
Archived Log entry 1309035 added for thread 1 sequence 737384 ID 0x1e203fd0 dest 1:
Wed May 18 01:39:13 2016 ***********************************************************************
Fatal NI connect error 12170.
 VERSION INFORMATION:
TNS for IBM/AIX RISC System/6000: Version 11.2.0.2.0 - Production
TCP/IP NT Protocol Adapter for IBM/AIX RISC System/6000: Version 11.2.0.2.0 - Production
Oracle Bequeath NT Protocol Adapter for IBM/AIX RISC System/6000: Version 11.2.0.2.0 - Production
 Time: 18-MAY-2016 01:39:13
 Tracing not turned on.
 Tns error struct:
ns main err code: 12535
TNS-12535: TNS:operation timed out
ns secondary err code: 12560
nt main err code: 505
TNS-00505: Operation timed out
nt secondary err code: 78
nt OS err code: 0
 Client address: (ADDRESS=(PROTOCOL=tcp)(HOST=10.162.16.114)(PORT=57575))
Wed May 18 01:43:55 2016 ***********************************************************************
Fatal NI connect error 12170.
Wed May 18 01:52:29 2016 Suspending MMON action 'metrics monitoring' for 82800 seconds
Wed May 18 01:55:43 2016 DIAG (ospid: 64487760) has not called a wait for 23 secs.
Wed May 18 02:01:43 2016 DIAG (ospid: 64487760) has not called a wait for 24 secs.
Wed May 18 02:02:38 2016 IPC Send timeout detected. Receiver ospid 50331968 [oracle@dwhprdd1 (LCK0)]
Wed May 18 02:02:38 2016 Errors in file /dwhprdd_orabase/product/db/orabase/diag/rdbms/ewh9/EWH1/trace/EWH1_lck0_50331968.trc:
Wed May 18 02:09:19 2016 System State dumped to trace file /dwhprdd_orabase/product/db/orabase/diag/rdbms/ewh9/EWH1/trace/EWH1_diag_64487760.trc
Wed May 18 02:11:43 2016 IPC Send timeout detected. Receiver ospid 50331968 [oracle@dwhprdd1 (LCK0)]
Wed May 18 02:11:43 2016 Errors in file /dwhprdd_orabase/product/db/orabase/diag/rdbms/ewh9/EWH1/trace/EWH1_lck0_50331968.trc:
Wed May 18 02:11:59 2016 System State dumped to trace file /dwhprdd_orabase/product/db/orabase/diag/rdbms/ewh9/EWH1/trace/EWH1_diag_64487760.trc
Wed May 18 02:14:57 2016 System State dumped to trace file /dwhprdd_orabase/product/db/orabase/diag/rdbms/ewh9/EWH1/trace/EWH1_diag_64487760.trc
Wed May 18 02:18:54 2016 Shutting down instance (abort)


FileName ###alert_EWH2_part.log
-------------------------


Tue May 17 22:18:13 2016  Thread 2 advanced to log sequence 376437 (LGWR switch)
                                             Current log# 28 seq# 376437 mem# 0: +EWH_DATA/ewh9/onlinelog/group_28.731.829083399
                                             Current log# 28 seq# 376437 mem# 1: +EWH_FRA/ewh9/onlinelog/group_28.721.829083559
Tue May 17 22:19:52 2016   Archived Log entry 1309001 added for thread 2 sequence 376436 ID 0x1e203fd0 dest 1:
Tue May 17 22:24:53 2016  Errors in file /dwhprdd_orabase/product/db/orabase/diag/rdbms/ewh9/EWH2/trace/EWH2_p007_11862202.trc:
                                            ORA-00060: deadlock zistený poèas èakania na prostriedok
                                            ORA-10387: parallel query server interrupt (normal)
Tue May 17 22:24:55 2016 Dumping diagnostic data in directory=[cdmp_20160517222455], requested by (instance=2, osid=11862202 (P007)), summary=[abnormal process termination].
Tue May 17 22:28:51 2016   PMON failed to delete process, see PMON trace file
Tue May 17 22:36:19 2016  Thread 2 advanced to log sequence 376438 (LGWR switch)
                                            Current log# 60 seq# 376438 mem# 0: +EWH_FDATA/ewh9/onlinelog/group_60.290.884952933
                                            Current log# 60 seq# 376438 mem# 1: +EWH_FRA/ewh9/onlinelog/group_60.862.884952995
Tue May 17 22:36:21 2016  Deleted Oracle managed file +EWH_FRA/ewh9/archivelog/2016_05_17/thread_1_seq_737260.293.912066061
                                             Deleted Oracle managed file +EWH_FRA/ewh9/archivelog/2016_05_17/thread_1_seq_737261.887.912066885
Tue May 17 22:37:45 2016  Archived Log entry 1309002 added for thread 2 sequence 376437 ID 0x1e203fd0 dest 1:
Tue May 17 22:41:24 2016  Errors in file /dwhprdd_orabase/product/db/orabase/diag/rdbms/ewh9/EWH2/trace/EWH2_p011_45285714.trc:
                                            ORA-00060: deadlock zistený poèas èakania na prostriedok
                                            ORA-10387: parallel query server interrupt (normal)
Tue May 17 22:41:26 2016 Dumping diagnostic data in directory=[cdmp_20160517224126], requested by (instance=2, osid=45285714 (P011)), summary=[abnormal process termination].

Wed May 18 00:58:25 2016  Archived Log entry 1309028 added for thread 2 sequence 376454 ID 0x1e203fd0 dest 1:
Wed May 18 01:03:41 2016  Thread 2 advanced to log sequence 376456 (LGWR switch)
 Current log# 29 seq# 376456 mem# 0: +EWH_FDATA/ewh9/onlinelog/group_29.330.886247835
 Current log# 29 seq# 376456 mem# 1: +EWH_FRA/ewh9/onlinelog/group_29.393.886247899
Wed May 18 01:05:29 2016  Archived Log entry 1309029 added for thread 2 sequence 376455 ID 0x1e203fd0 dest 1:
Wed May 18 01:09:56 2016  Thread 2 advanced to log sequence 376457 (LGWR switch)
 Current log# 22 seq# 376457 mem# 0: +EWH_DATA/ewh9/onlinelog/group_22.665.829062115
 Current log# 22 seq# 376457 mem# 1: +EWH_FRA/ewh9/onlinelog/group_22.519.829062267
Wed May 18 01:09:57 2016 Deleted Oracle managed file +EWH_FRA/ewh9/archivelog/2016_05_17/thread_2_seq_376337.505.912072757
Deleted Oracle managed file +EWH_FRA/ewh9/archivelog/2016_05_17/thread_1_seq_737273.373.912072795
Wed May 18 01:11:04 2016 Archived Log entry 1309031 added for thread 2 sequence 376456 ID 0x1e203fd0 dest 1:
Wed May 18 01:21:44 2016 Thread 2 advanced to log sequence 376458 (LGWR switch)
 Current log# 24 seq# 376458 mem# 0: +EWH_DATA/ewh9/onlinelog/group_24.680.829062701
 Current log# 24 seq# 376458 mem# 1: +EWH_FRA/ewh9/onlinelog/group_24.790.829062905
Wed May 18 01:21:45 2016 Deleted Oracle managed file +EWH_FRA/ewh9/archivelog/2016_05_17/thread_1_seq_737274.448.912072925
Deleted Oracle managed file +EWH_FRA/ewh9/archivelog/2016_05_17/thread_2_seq_376338.541.912072927
Deleted Oracle managed file +EWH_FRA/ewh9/archivelog/2016_05_17/thread_2_seq_376339.855.912073123
Wed May 18 01:21:54 2016 Index ETDW.I_TDWCUSTOMERHISTORY_ENDDATE or some [sub]partitions of the index have been marked unusable
Index ETDW.I_TDWCUSTOMERHISTORY_FLAG_BM or some [sub]partitions of the index have been marked unusable
Index ETDW.I_TDWCUSTOMERHISTORY_STARTDATE or some [sub]partitions of the index have been marked unusable
Wed May 18 01:23:42 2016 Archived Log entry 1309032 added for thread 2 sequence 376457 ID 0x1e203fd0 dest 1:
Wed May 18 01:31:48 2016 Thread 2 advanced to log sequence 376459 (LGWR switch)
 Current log# 61 seq# 376459 mem# 0: +EWH_FDATA/ewh9/onlinelog/group_61.282.885160141
 Current log# 61 seq# 376459 mem# 1: +EWH_FRA/ewh9/onlinelog/group_61.622.885160167
Wed May 18 01:33:01 2016 Archived Log entry 1309033 added for thread 2 sequence 376458 ID 0x1e203fd0 dest 1:
Wed May 18 01:33:33 2016 Thread 2 advanced to log sequence 376460 (LGWR switch)
 Current log# 63 seq# 376460 mem# 0: +EWH_FDATA/ewh9/onlinelog/group_63.327.886250503
 Current log# 63 seq# 376460 mem# 1: +EWH_FRA/ewh9/onlinelog/group_63.710.886250591
Wed May 18 01:33:52 2016 Archived Log entry 1309036 added for thread 2 sequence 376459 ID 0x1e203fd0 dest 1:
Wed May 18 01:39:33 2016 Thread 2 advanced to log sequence 376461 (LGWR switch)
Current log# 27 seq# 376461 mem# 0: +EWH_DATA/ewh9/onlinelog/group_27.1013.829063725
Current log# 27 seq# 376461 mem# 1: +EWH_FRA/ewh9/onlinelog/group_27.815.829063931
Wed May 18 01:39:34 2016 Deleted Oracle managed file +EWH_FRA/ewh9/archivelog/2016_05_17/thread_1_seq_737275.415.912073407
Deleted Oracle managed file +EWH_FRA/ewh9/archivelog/2016_05_17/thread_2_seq_376341.805.912073649
Wed May 18 01:40:41 2016 Archived Log entry 1309037 added for thread 2 sequence 376460 ID 0x1e203fd0 dest 1:
Wed May 18 02:00:59 2016 IPC Send timeout detected. Sender: ospid 36110804 [oracle@dwhprdd2 (LCK0)]
Receiver: inst 1 binc 10 ospid 50331968
Wed May 18 02:09:19 2016 System State dumped to trace file /dwhprdd_orabase/product/db/orabase/diag/rdbms/ewh9/EWH2/trace/EWH2_diag_30081308.trc
Wed May 18 02:11:04 2016 IPC Send timeout detected. Sender: ospid 36110804 [oracle@dwhprdd2 (LCK0)]
Receiver: inst 1 binc 10 ospid 50331968
Wed May 18 02:11:59 2016 System State dumped to trace file /dwhprdd_orabase/product/db/orabase/diag/rdbms/ewh9/EWH2/trace/EWH2_diag_30081308.trc
Wed May 18 02:14:42 2016 Suspending MMON action 'undo usage' for 82800 seconds
Wed May 18 02:14:57 2016 System State dumped to trace file /dwhprdd_orabase/product/db/orabase/diag/rdbms/ewh9/EWH2/trace/EWH2_diag_30081308.trc
Wed May 18 02:18:58 2016 Reconfiguration started (old inc 14, new inc 16)
List of instances: 2 (myinst: 2)
Global Resource Directory frozen
* dead instance detected - domain 0 invalid = TRUE
Communication channels reestablished
Master broadcasted resource hash value bitmaps
Non-local Process blocks cleaned out
Wed May 18 02:18:59 2016
Wed May 18 02:18:59 2016 LMS 1: 1 GCS shadows cancelled, 0 closed, 0 Xw survived
LMS 3: 1 GCS shadows cancelled, 0 closed, 0 Xw survived
alter system set local_listener='(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=10.170.22.75)(PORT=1521)))' scope=both



SYNTAX
*********************************************************************************************************************************************
*********************************************************************************************************************************************



ORAchk Errors out with "Use of uninitialized value in concatenation"

Product Version :  12.1.0.2.6
Platform : HP-UX Itanium , 11.31

[t24dbho3,ora11,T24011,/oracrs/oracle/11.2.0/grid/bin]>bash -version
GNU bash, version 4.3.42(1)-release (ia64-hp-hpux11.31)
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>

This is free software; you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.


[t24dbho4,ora11,T24012,/TMDB/ORAchk]>./orachk
Use of uninitialized value in concatenation (.) or string at /TMDB/ORAchk/.cgrep/mineocr.pm line 468.
Use of uninitialized value in concatenation (.) or string at /TMDB/ORAchk/.cgrep/mineocr.pm line 476.
Use of uninitialized value in concatenation (.) or string at /TMDB/ORAchk/.cgrep/mineocr.pm line 476.
Use of uninitialized value in concatenation (.) or string at /TMDB/ORAchk/.cgrep/mineocr.pm line 476.
Use of uninitialized value in concatenation (.) or string at /TMDB/ORAchk/.cgrep/mineocr.pm line 476.
Use of uninitialized value in concatenation (.) or string at /TMDB/ORAchk/.cgrep/mineocr.pm line 477.
Use of uninitialized value in concatenation (.) or string at /TMDB/ORAchk/.cgrep/mineocr.pm line 477.
Use of uninitialized value in concatenation (.) or string at /TMDB/ORAchk/.cgrep/mineocr.pm line 479.
Use of uninitialized value in concatenation (.) or string at /TMDB/ORAchk/.cgrep/mineocr.pm line 479. 


orachk debug output attached . 

please assist in resolving this 















 Cannot connect to socket (ADDRESS=(PROTOCOL=IPC)(KEY=OHASD_UI_SOCKET))  IOException : clscconnect to (ADDRESS=(PROTOCOL=IPC)(KEY=OHASD_UI_SOCKET)) failed with ret 9
(File: caa_Socket.cpp, line: 341





============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ End  1-Feb-2016  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

============================================================================================================================================
New SR  List:
Closed SR List :
Touched SR List :

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
....



DAY SUMMARY:
============================================================================================================================================
SR Number                               Description:
============================================================================================================================================

===========================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :











Hi Mahesh,

==================================
DATA and FRA diskgroup Migration
==================================
Ref : Exact Steps to Migrate ASM Diskgroups to Another SAN/Disk-Array/DAS/Etc without Downtime (When ASMLIB Devices Are Involved) (Doc ID 1918350.1)
Ref : Exact Steps To Migrate ASM Diskgroups To Another SAN/Disk-Array/DAS/etc Without Downtime. (Doc ID 837308.1)


====================================
OCR and Votedisk Migration
======================================


PHASE 1 ::: PREPARE THE DISK  :::


For OCR or voting disk addition or replacement, new disks need to be prepared.
1. Size  Please refer to Clusteware/Gird Infrastructure installation guide for different platform for the disk requirement and preparation.

2. Permissions

For OCR device:
chown root:oinstall <OCR device>
chmod 640 <OCR device>

For Voting device:
chown <crs/grid>:oinstall <Voting device>
chmod 644 <Voting device>

For ASM disks used for OCR/Voting disk:
chown griduser:asmadmin <asm disks>
chmod 660 <asm disks>


==

PHASE 2 ::: MIGRATE OCR AND VOTEFILES TO DISKGOUP CREATED FROM NEW SAN :::

### OCR MIGRATION ###


11.2:   To replace or move the location of an OCR device

Note. 1. An ocrmirror must be in place before trying to replace the OCR device.
        The ocrconfig will fail with PROT-16, if there is no ocrmirror exists.

     2. If an OCR device is replaced with a device of a different size,
        the size of the new device will not be reflected until the clusterware is restarted.

     3. You must be logged in as the root user, because root owns the OCR files. "ocrconfig -replace"
    command can only be issued when CRS is running, otherwise "PROT-1: Failed to initialize ocrconfig" will occur.

     4. Please ensure CRS is running on ALL cluster nodes during this operation, otherwise the change will not reflect
    in the CRS down node, CRS will have problem to startup from this down node. "ocrconfig -repair" option will be required to fix the ocr.loc file on the CRS down node.

     5. For 11.2+ with OCR on ASM diskgroup, due to unpublished Bug 8604794   [https://bug.oraclecorp.com/pls/bug/webbug_edit.edit_info_top?rptno=8604794] - FAIL TO CHANGE OCR LOCATION TO DG WITH 'OCRCONFIG -REPAIR -REPLACE',
     "ocrconfig -repair" to change OCR location to different ASM diskgroup does not work currently.
 Workaround is to manually edit /etc/oracle/ocr.loc or /var/opt/oracle/ocr.loc or Windows registry HYKEY_LOCAL_MACHINE\SOFTWARE\Oracle\ocr,  point to desired diskgroup.

     6. If there is any issue with OLR, please refer to How to restore OLR in 11.2 Grid Infrastructure Note 1193643.1.



11.2:

The command is same for replace either OCR or OCRMIRRORs (at least 2 OCR exist for replace command to work):

SYNTAX : # ocrconfig -replace <current filename> -replacement <new filename>


Example :

1. Make sure there is a recent copy of the OCR file before making any changes:

  # ocrconfig -showbackup

2. To see whether OCR is healthy, run an ocrcheck, which should return with like below.

              # ocrcheck


3. Do the migration of OCR to the new diskgroup +CRS

  # ocrconfig -replace +OCRVOTE -replacement +CRS
                   
Or

  # ocrconfig -add +OCRVOTE
  # ocrconfig -delete +CRS

           4. VErify the Changes

 # ocrcheck
 


### VOTEFILE MIGRATION  ####


From 11.2, votedisk can be stored on either ASM diskgroup or cluster file systems.


Note  : 1. The following commands can only be executed when Grid Infrastructure is running. As grid user:

     
 
To move voting disk on ASM from one diskgroup to another diskgroup due to redundancy change or disk location change Use below syntax

SYNTAX  : $ crsctl replace votedisk <+diskgroup>|<vdisk>


Example here is moving from external redundancy +OCRVOTE diskgroup to normal redundancy +CRS diskgroup

1. create new diskgroup +CRS as desired

2. $ crsctl query css votedisk
##  STATE    File Universal Id                File Name Disk group
--  -----    -----------------                --------- ---------
1. ONLINE   5e391d339a594fc7bf11f726f9375095 (ORCL:ASMDG02) [+OCRVOTE]
Located 1 voting disk(s).

3. $ crsctl replace votedisk +CRS
Successful addition of voting disk 941236c324454fc0bfe182bd6ebbcbff.
Successful addition of voting disk 07d2464674ac4fabbf27f3132d8448b0.
Successful addition of voting disk 9761ccf221524f66bff0766ad5721239.
Successful deletion of voting disk 5e391d339a594fc7bf11f726f9375095.
Successfully replaced voting disk group with +CRS.
CRS-4266: Voting file(s) successfully replaced

4. $ crsctl query css votedisk
##  STATE    File Universal Id                File Name Disk group
--  -----    -----------------                --------- ---------
1. ONLINE   941236c324454fc0bfe182bd6ebbcbff (ORCL:CRSD1) [CRS]
2. ONLINE   07d2464674ac4fabbf27f3132d8448b0 (ORCL:CRSD2) [CRS]
3. ONLINE   9761ccf221524f66bff0766ad5721239 (ORCL:CRSD3) [CRS]
Located 3 voting disk(s).



==
PHASE 3 ::: DROP THE OLD DISKGROUP :::


DROP The old diskgroup which as OCR and Votefiles

Ref: OCR / Vote disk Maintenance Operations: (ADD/REMOVE/REPLACE/MOVE) (Doc ID 428681.1)



Please review this let me know if you need further clarification on the same . I would be glad to clarify those

Regards
Darshan P
Global Customer Support-  Storage/Scalability
Desk Phone:+918041072121

Working Hours : Mon-Fri 7:00am-3:30pm IST | 1:30am-10:00am GMT | 9:30pm-6:00am ET
In case, if you need urgent or immediate assistance during my  off-shift hours, please call the Oracle HUB and request for assistance or reassignment  of this SR.

RAC: https://community.oracle.com/community/support/oracle_database/database_-_rac_scalability
Storage: https://community.oracle.com/community/support/oracle_database/storage_management_asm_acfs_dnfs_odm





DAY SUMMARY:
============================================================================================================================================
SR Number                               Description:
============================================================================================================================================








\\Delete The CLusterware home On node 1



Ensure that Grid_home correctly specifies the full directory path for the Oracle Clusterware home on each node, 
where Grid_home is the location of the installed Oracle Clusterware software.

1] Run the following command as either root or the user that installed Oracle Clusterware to determine whether 
the node you want to delete is active and whether it is pinned:

$ olsnodes -s -t

2] If the node is pinned, then run the crsctl unpin css command. Otherwise, proceed to the next step.

3] Disable the Oracle Clusterware applications and daemons running on the node. 
   Run the rootcrs.pl script as root from the Grid_home/crs/install directory on the node to be deleted, as follows:

# ./rootcrs.pl -deconfig -force


4] From any node that you are not deleting, run the following command from the Grid_home/bin directory as root to delete the node from the cluster:

# crsctl delete node -n node_to_be_deleted


5] On the node you want to delete, run the following command as the user that installed Oracle Clusterware 
from the Grid_home/oui/bin directory where node_to_be_deleted is the name of the node that you are deleting:

$ ./runInstaller -updateNodeList ORACLE_HOME=Grid_home "CLUSTER_NODES={node_to_be_deleted}" CRS=TRUE -silent -local


6] For a local home, deinstall the Oracle Clusterware home from the node that you want to delete, as follows, 
   by running the following command, where Grid_home is the path defined for the Oracle Clusterware home:

    $ Grid_home/deinstall/deinstall –local

    Caution:
    If you do not specify the -local flag, then the command removes the Grid Infrastructure home from every node in the cluster.

7] On any node other than the node you are deleting, run the following command from the Grid_home/oui/bin directory where 
remaining_nodes_list is a comma-delimited list of the nodes that are going to remain part of your cluster:

$ ./runInstaller -updateNodeList ORACLE_HOME=Grid_home "CLUSTER_NODES={remaining_nodes_list}" CRS=TRUE -silent


8] Run the following CVU command to verify that the specified nodes have been successfully deleted from the cluster:

$ cluvfy stage -post nodedel -n node_list [-verbose]


-----------------------------------


Once the delete is done , Please add it back using below steps 


To add a node:


1]  Verify the integrity of the cluster and node3:

    $ cluvfy stage -pre nodeadd -n node3 [-fixup [-fixupdir fixup_dir]] [-verbose]

    You can specify the -fixup option and a directory into which CVU prints instructions to fix the cluster or node if the verification fails.

    To extend the Grid Infrastructure home to the node3, navigate to the Grid_home/oui/bin directory on node1 and run the addNode.sh script as the user that installed Oracle Clusterware using the following syntax, where node3 is the name of the node that you are adding and node3-vip is the VIP name for the node:

2]  If you are not using GNS, run the following command:

    $ ./addNode.sh "CLUSTER_NEW_NODES={node3}" "CLUSTER_NEW_VIRTUAL_HOSTNAMES={node3-vip}"

  
3]  Run the Grid_home/root.sh script on the node3 as root and run the subsequent script, as instructed.

    Run the following CVU command as the user that installed Oracle Clusterware to check cluster integrity. This command verifies that any number of specified nodes has been successfully added to the cluster at the network, shared storage, and clusterware levels:

    $ cluvfy stage -post nodeadd -n node3 [-verbose]

    See Also:
    "cluvfy stage [-pre | -post] nodeadd" for more information about this CVU command

	\\
	
	
	
	
	
	




+++++++++++++++++
MODIFY SCAN LISTENERS
+++++++++++++++++

1. Current scan listener configuration can be found in 
    cat /opt/app/11.2.0/grid/network/admin/listener.ora

2. New scan listener cannot be added while there are scan listeners already configured.

     srvctl config scan_listener
     SCAN Listener LISTENER_SCAN1 exists. Port: TCP:9120/TCPS:1523

     srvctl add scan_listener -l myscanlistener
     PRCS-1028 : Single Client Access Name listeners already exist

	 
3. To add a new scan listener remove the default scan listener first. When the new scan listener name is specified 
    it will give only with the prefix of the scan listener name. There's no need to include the "SCAN", this will be added by the clusteware.
 
     srvctl stop scan_listener

	 srvctl remove scan_listener
	 Remove scan listener? (y/[n]) y

	
	Adds Oracle Clusterware resources to the SCAN listeners. The number of SCAN listener resources created is the number of SCAN VIP resources.
		Syntax and Options

		Use the srvctl add scan_listener command with the following syntax:

		srvctl add scan_listener [-l lsnr_name_prefix] [-s]  [-p "[TCP:]port_list[/IPC:key][/NMP:pipe_name][/TCPS:s_port] [/SDP:port]"]

Example

			An example of this command is:

			srvctl add scan_listener -l myscanlistener -p TCP:9120/TCPS:1523
			srvctl config scan_listener
			SCAN Listener MYSCANLISTENER_SCAN1 exists. Port: TCP:9120/TCPS:1523

4.  Listener.ora file won't be modified at this stage. 
         Entries related to new scan listener name will be added when the scan listener is started. 
         The old scan listener entries will still be there on the listener.ora and must be manually removed. 
         Listener.ora files across all nodes will be updated when the scan listener is started. The COST related scan listener entries must be manually changed

cat /opt/app/11.2.0/grid/network/admin/listener.ora   # before scan listener start
...
SECURE_REGISTER_LISTENER_SCAN1 = (IPC,TCPS)

cat /opt/app/11.2.0/grid/network/admin/listener.ora   # after scan listener start
...
SECURE_REGISTER_MYSCANLISTENER_SCAN1 = (IPC,TCPS) <--- must be changed manually

https://docs.oracle.com/cd/E11882_01/rac.112/e41960/srvctladmin.htm#CDDEFBAF

==

+++++++++++++++++++++
MODIFY LISTENER NAME
+++++++++++++++++++++

Use srvctl to add a new listener with the name you want and remove the listener that you do not want:

1. To add the new listener name on the same port as the current default listener name -s 
option must be used. This will skip the port check if not an error will be thrown.

srvctl status listener
Listener LISTENER is enabled
Listener LISTENER is running on node(s): xxx1,xxx2

srvctl add listener -l mylistener -p 9120   # without -s results in an error
PRCN-2061 : Failed to add listener ora.MYLISTENER.lsnr
PRCN-2065 : Port(s) 9120 are not available on the nodes given
PRCN-2067 : Port 9120 is not available across node(s) "xxx1-vip,xxx2-vip"

2. srvctl add listener -l mylistener -s -p 9120

srvctl config listener
Name: MYLISTENER
Network: 1, Owner: grid
Home: <CRS home>
End points: TCP:9120

3. Before removing the default listener modify the asm configuration with the new listener. 
   If not asm configuration will continue to use the old listener name and will report 
   PRCA-1032: ASM Listener LISTENER Does Not Exist when srvctl config asm is run. 
   it's important that this is done before the default listener is dropped if not the default 
   listener need to be added and then new listener name is specified for the asm configuration. More on this is available on 1428284.1

srvctl modify asm -l MYLISTENER
srvctl config asm
ASM home: /opt/app/11.2.0/grid
ASM listener: MYLISTENER

4. Stop the default listener and remove it from the configuration.

srvctl stop listener -l listener
srvctl remove listener -l listener

5. The new listener name related entries are not added to the listener.ora file until the listener is restarted and 
update will be done across all nodes of the cluster. 
Similar to scan listener the old entries will still remain the listener.ora file and must be manually removed. 

At the same time also edit the COST related listener entry.

cat /opt/app/11.2.0/grid/network/admin/listener.ora  # before listener start
SECURE_REGISTER_LISTENER = (IPC,TCP)

srvctl start listener -l mylistener

cat /opt/app/11.2.0/grid/network/admin/listener.ora  # after listener start
SECURE_REGISTER_MYLISTENER = (IPC,TCP) <-- must be changed manually

6. Listener status

============================================================================================================================================
SR Number       3-12103391421                        Description: Remove and add listener with new name in 2 node RAC environment
============================================================================================================================================
Key :listener Rename 

DAY SUMMARY: 

============================================================================================================================================
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ Begin End  1-Feb-2016 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================












A. Preparation

    + Begin with a full Operating System level backup 
	
    + If your database(s) still up and running stop them (e.g. srvctl stop database -d <database name>)
	
    + Save the <RDBMS_HOME>/database/<init file> of your databases and note the existing ORACLE_HOME and ORACLE_BASE locations for 
         GI and RDBMS homes (Note that not using same locations upon   reinstall will require some minor additional steps)
		 
    + Connect to ASM and dismount the diskgroup(s) (e.g.  alter diskgroup <disk group name> dismount force;)
	
    + Stage the GI and RDBMS software (in case removed after the original install)

NOTE: It is crucial that you have a backup of your databases as failure of the procedure might cause data loss.



B. 	Deconfig exitsing GI home
			
				1) If you are using an ACFS filesystem, then dismount all the mounted ACFS filesystems first (as root user):

				Example:


				2) Connect as grid user and stop the OHAS stack:

						$> <GI Oracle Home>/bin/crsctl stop has


				3) Connect as root user and remove the OHAS configuration


						# <GI Oracle Home>/crs/install/roothas.pl -deconfig -force -verbose



				Example:
				[root@asmgrid ~]# . oraenv
				ORACLE_SID = [+ASM] ? +ASM
				The Oracle base remains unchanged with value /u01/app/grid

				[root@asmgrid ~]# echo $ORACLE_HOME
				/u01/app/grid/product/11.2.0/grid

				[root@asmgrid ~]# $ORACLE_HOME/crs/install/roothas.pl -deconfig -force  -verbose
				Using configuration parameter file: /u01/app/grid/product/11.2.0/grid/crs/install/crsconfig_params
				CRS-4639: Could not contact Oracle High Availability Services
				CRS-4000: Command Stop failed, or completed with errors.
				CRS-4639: Could not contact Oracle High Availability Services
				CRS-4000: Command Delete failed, or completed with errors.
				CRS-4544: Unable to connect to OHAS
				CRS-4000: Command Stop failed, or completed with errors.
				ACFS-9200: Supported
				Successfully deconfigured Oracle Restart stack









 C. Deinstall the Oracle Restart (GI home)

    open a command prompt and run the <GI_HOME>/deinstall/deinstall
    when asked: "Specify all Oracle Restart enabled listeners that are to be de-configured [LISTENER]:  hit ENTER to confirm
    when asked: "If you want to retain the existing diskgroups or if any of the information detected is incorrect, you can modify by entering 'y'. Do you  want to modify aboveinformation (y|n) [n]:"   type "y" and hit ENTER to confirm
    when asked: "Specify the ASM Diagnostic Destination [<diagnostic dest>]:" hit ENTER to confirm
    when asked: "Specify the diskstring []:" hit ENTER to confirm
    when asked: "Specify the diskgroups that are managed by this ASM instance [<disk groups>]:" hit ENTER to confirm 
    wrong answer to the next step will drop your disk groups, be sure to answer "n" before you hit ENTER when asked: "De-configuring ASM will drop the diskgroups at cleanup time. Do you want deconfig tool to drop the diskgroups y|n [y]:"
    a summary will be displayed, when asked: "Do you want to continue (y - yes, n - no)? [n]:"   type  "y" and hit ENTER to confirm
    after some time you will see similar message like you see in the block below.

    Run the following command as the root user or the administrator on node "hostname".


    Press Enter after you finish running the above commands"
    open a new terminal switch to root and copy/paste the command in and hit ENTER
    when completed return back to the first Terminal and hit ENTER
	
    after deinstallation completed check for the sub-folders for home folders not removed and if these exist, remove them manually

    Ref : https://docs.oracle.com/database/121/LADBI/remove_oracle_sw.htm#LADBI7824

	

 D. Reinstall Oracle Restart (GI home)

    start OUI from the staged Grid Infrastructure software location
    select Installation Option "Configure Oracle Grid Infrastructure for a Standalone Server"
    select desired language
    at step 'Create ASM Disk Group', stamp a new disk (logical drive on top of an extended partition) as ASM disk with Prefix e.g. 
	          TEMP. Create a disk group with e.g. name TEMP, redundancy EXTERNAL with the new stamped disk.
    specify the ASM password
    specify the locations for Oracle Base and Oracle Home
    complete the installation

	
	
C.  Run the ASMCA and mount all the database diskgroups

    Unix: <GRID_HOME>/bin/asmca
    Windows: <GRID_HOME>\bin\asmca


    "crsctl stat res -t" command should show all the diskgroups with TARGET and STATE of ONLINE

    Note:  Simply mounting the diskgroups (and/or restoring the OCR backup (see next step) will cause the diskgroup resources to be added to the OCR

	
	
D. Now, connect as oracle OS user and add the "database service" resource into the SIHA/OHAS/Restart stack, 

       very important, you must use the "srvctl" command located at the "<RDBMS 11.2 Database Oracle Home>/bin" (do NOT use the one located at the Grid Infrastructure Oracle Home), as follow:


		srvctl add database -d <database_name> -o <oracle_home> -a "asm diskgroup list"
		srvctl add instance -d <database_name> -i <inst_name> 
		srvctl add service -d <db_unique_name> -s <service_name>  

		srvctl start database -d <database name>
		srvctl start service -d <database name> -s <service name>

		srvctl status service -d <database name> -s <service name>
		srvctl status database -d <database name>




        [grid@asmgrid dbs]$ crsctl stop has

		[grid@asmgrid dbs]$ crsctl start has












1. Take backup of the following things


  a.  Check if you can get the backup of the OCR , usually these will be stored in the location.
 
    <GRID_HOME>/cdata/`hostname`/backup_*.ocr
    
    
  b.  DATABASE ALERT LOGS for all the instances in these nodes
  
  Upload this to SR and save this for future 
  
  
  
  
2. Check if all the grid and oracle processes are down If they are not already down, kill off EVM, CRS, and CSS processes or reboot the node: 

      ps -ef | egrep "PID|ohasd|oraagent|mdnsd|gpnpd|orarootagent|cssdagent|cssdmonitor|crsd|css|gipc|ctssd" 
   ps -ef | egrep "d.bin|pmon"
   
   
   
3.  Remove All the rc scripts used by the oracle and the complete ORACLE Software from the below locations

  rm /etc/rc.d/rc6.d/K15ohasd
  rm /etc/rc.d/rc1.d/K15ohasd
  rm /etc/rc.d/rc2.d/K15ohasd
  rm /etc/rc.d/rc3.d/S96ohasd
  rm /etc/rc.d/rc3.d/K15ohasd
  rm /etc/rc.d/rc4.d/K15ohasd
  rm /etc/rc.d/init.d/ohasd
  rm /etc/rc.d/init.d/init.ohasd
  rm /etc/rc.d/rc0.d/K15ohasd
  rm /etc/rc.d/rc5.d/S96ohasd
  rm -rf /u01/app/oraInventory/*
  rm -rf <GIRD_HOME>/*
  rm -rf <GRID_BASE>/*
  rm -rf <DB_HOME>/* 
  rm -rf /etc/oracle/* 
  rm /etc/oraInst.loc 
  rm /etc/oratab 
  rm /var/tmp/.oracle/*

6. Remove the ocr.loc Usually the ocr.loc can be found at /etc/oracle
        
   rm /etc/oracle 
   

   <DO THE SAME ON BOTH THE NODES>
   
   
7.Identify which all the OCR and VOTE DISK  used by the cluster ware  
 
   **** ENSURE THAT THESE DISKS DO NOT CONTAIN ANY DATA USED BY THE RDBMS  ****
   Clean out the OCR and Voting Files with dd commands. Example:
    
  dd if=/dev/zero of=<disk location > bs=1M count=256
  dd if=/dev/zero of=<disk location > bs=1M count=256        << please let us know  If not sure of which disk is used in  CRS VOTE DISKGROUP LET US KNOW BEFORE DELETING  

  
8. The /tmp/CVU* dir should be cleaned also to avoid the cluvfy misreporting.


9. It is good practice to reboot the node before starting the next install.


10. To re-install CRS, follow the steps in the Oracle Clusterware Installation manual.
    
 Dowload the GRID and RDBMS Binaries from the OTN .
 
 
 
 
11. Stamp the disk which are to be used by the ASM OCR-VOTE file DISKGROUP using ASMLIB 
 
 
 a] ensure asmlib is intact on BOTH the nodes
    /etc/init.d/oracleasm configure
    
 b] Stamp the disks which are to be used in OCR and VOTE diskgroup
    Once the kernel module is loaded, stamp (or label) the partitions created earlier as ASM disks
    
    On any one of the nodes please do the below 
    
    /etc/init.d/oracleasm createdisk OCRVOTE1 /dev/<disk name>
    /etc/init.d/oracleasm createdisk OCRVOTE2 /dev/<disk name>
    /etc/init.d/oracleasm createdisk OCRVOTE3 /dev/<disk name>
 
 c] On all the nodes please do the beklow 
     /etc/init.d/oracleasm scandisks
 
 
12.  Once this is done ensure all the disks will be visibale to the ASM .

     . Check the discovery path from each node::
     $> /etc/init.d/oracleasm status
    $> /usr/sbin/oracleasm-discover
    $> /usr/sbin/oracleasm-discover 'ORCL:*'


    
    

13. Install the Grid infrastructure on BOTH the nodes

        - when OUI asks for the disk in the OCR-VOTE diskgroup creation time 
   use the disks which are recently stamped in the above steps
   
   
14. Run the root.sh on all the nodes and ensure the Grid is Up and running on all the nodes



16 .Connect to the ASM instance and check if the old ASM disks are already visible to the ASM instance 


    select * from v$asm_diskgroup;
 select * from v$asm_disks;



15. Now for the RDBMS restoration . 
           
 Install the RAC RDBMS Software using the binaries which are downloaded from the OTN
 follow the steps in the Oracle RAC Installation manual.
 
 
16. Now try to start the Database with pfile with the modified parameters in the 
    with the parameter to the step up the pfile make use of the backuped Database Alertlogs 


















How to Migrate to a new SAN on a Windows RAC/ASM/CRS 10.2 (Doc ID 580559.1)

============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================
New SR  List:
Closed SR List :
Touched SR List :
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
....
===========================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :

DAY SUMMARY:





@ 4) please ask the system administrators to test the infiniband network with 
@ rping / rds-ping and use large packet size 
@ .
@ http://docs.oracle.com/cd/E23824_01/html/821-1459/gjwwf.html#scrolltoc
@ .
@ http://linux.die.net/man/1/rping
@ rping -s [-v] [-V] [-d] [-P] [-a address] [-p port]
@         [-C message_count] [-S message_size]
@ rping -c [-v] [-V] [-d] -a address [-p port]
@         [-C message_count] [-S message_size]
@ 		
@ http://linux.die.net/man/1/rds-ping
@ rds-ping [-c count] [-i interval] [-I local_addr] remote_addr 		
@ .
@ you can also find a small script in 
@ "Script to check availability Infiniband network connectivity between Exadata 
@ DB node and configured cell servers (Doc ID 1594997.1)"







============================================================================================================================================
SR Number 3-11820140221                          Description:  OAPDWQ-frequent query failures with PX Deq: Join ACK waits and ORA-12805
============================================================================================================================================
Key ::IPC Send timeout detected




IPC Send timeout detected. Sender: ospid 1868 [oracle@db15 (P172)]
Receiver: inst 2 binc 2 ospid 13893             <<<

Receiver: inst 2 binc 526799489 ospid 11659     <<<

An instance reports IPC send timed out when the receiver does not acknowledge messages from the sender. This typically means that the private network that is used to communicate is broken or dropping packets. It is also possible to get these messages when the receiver does not get CPU resource to acknowledge the receipt.

The ospid 1868 on Instance:1 is sending message to ospid 13893 on Instance:2.

You need to go on Instance:2 and check for process with ospid 13893 and  ospid 11659    These are the one's which are causing problem.

Reviewing these process trace files or diag trace files will provide additional hints as to what these processes are doing.





DAY SUMMARY: 
============================================================================================================================================
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ Begin End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================

SYNTAX
*********************************************************************************************************************************************
*********************************************************************************************************************************************














How to turn on debugging for config.sh

Modify config.pl as grid user:

Change the following:

# java cmd to launch
my $wizardCmd = $JAVACMD.' -cp '.$classPath.$debugOpts.' -Doracle.installer.configWizard=true -Doracle.installer.scratchPath='.$ORACLE_HOME.$dirSep.'inventory'.$dirSep.'Scripts'.' -Xdebug '.'oracle.install.ivw.crs.driver.CRSConfigWizard '.join(' ',@ARGV);

To:

# java cmd to launch
my $wizardCmd = $JAVACMD.' -cp '.$classPath.$debugOpts.' -Doracle.installer.configWizard=true -DTRACING.ENABLED=true -DTRACING.LEVEL=2 -DSRVM_TRACE_LEVEL=2 -DFULLTRACE -Doracle.installer.scratchPath='.$ORACLE_HOME.$dirSep.'inventory'.$dirSep.'Scripts'.' -Xdebug '.'oracle.install.ivw.crs.driver.CRSConfigWizard '.join(' ',@ARGV);


Basically add the following between -Doracle.installer.configWizard=true -Doracle.installer.scratchPath

-DTRACING.ENABLED=true -DTRACING.LEVEL=2 -DSRVM_TRACE_LEVEL=2 -DFULLTRACE

 

[This section is not visible to customers.]






ORA-600 [kmgs_parameter_update_timeout_1], [1565] While Accessing Spfile Managed By ASM (Doc ID 553915.1)
Bug 6974125 : COMMUNICATION FAILURE WITH ASM INSTANCE DUE TO ORA-21561
https://community.oracle.com/thread/735212








============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================
New SR  List:
Closed SR List :
Touched SR List :
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
....
===========================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :

DAY SUMMARY:
============================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :

DAY SUMMARY: 






 326  . oraenv
  327  which kfed
  328  cd ddout_12102015
  329  ls -l
  330  file ddoutre0116r00sn02.txt
  331  more ddoutre0116r00sn02.txt
  332  kfed read ddoutre0116r00sn02.txt | more
  333  kfed read ddoutre0116r00sn02.txt aun=0 blknum=1| more
  334  kfed read ddoutre0116r00sn02.txt aun=0 blknum=2| more
  335  kfed read ddoutre0116r00sn02.txt aun=0 blknum=3| more
  336  kfed read ddoutre0116r00sn02.txt aun=0 blknum=4| more
  337  kfed read ddoutre0116r00sn02.txt aun=1 blknum=0| more
  338  kfed read ddoutre0116r00sn02.txt aun=0 blknum=1| more
  339  kfed read ddoutre0116r00sn02.txt aun=0 blknum=2| more
  340  kfed read ddoutre0116r00sn02.txt aun=1 blknum=0| more
  341  kfed read ddoutre0116r00sn02.txt aun=1 blknum=2| more
  342  kfed read ddoutre0116r00sn02.txt aun=1 blknum=3| more
  343  kfed read ddoutre0116r00sn02.txt aun=1 blknum=4| more
  344  kfed read ddoutre0116r00sn02.txt aun=2 blknum=4| more
  345  kfed read ddoutre0116r00sn02.txt aun=2 blknum=3| more
  346  kfed read ddoutre0116r00sn02.txt aun=1 blknum=254| more
  347  hexdump -C ddoutre0116r00sn02.txt | grep ORCLDISK
  348  ls -l /dev/asmdisk*
  349  hexdump -C /dev/asmdisk1 | grep ORCLDISK | more
  350  hexdump -C /dev/asmdisk1 | grep ORCLDISK
  351  kfed read /dev/asmdisk1 | more
  352  kfed read /dev/asmdisk2 | more
  353  kfed read /dev/asmdisk3 | more
  354  kfed read /dev/asmdisk4 | more
  355  ps -ef | grep pmon
  356  crsctl stat res -t
  357  hexdump -C ddoutre0116r00sn02.txt | grep ORCLDISK
  358  ls -l
       hexdump -C ddoutre0116r00ss02.txt | grep ORCLDISK
       hexdump -C ddoutre0137r00rn05.txt | grep ORCLDISK
       hexdump -C ddoutre0137r00rn06.txt | grep ORCLDISK
       hexdump -C ddoutre0137r00rn07.txt | grep ORCLDISK
       hexdump -C ddoutre0137r00rn08.txt | grep ORCLDISK
       hexdump -C ddoutre0137r00sn02.txt | grep ORCLDISK
       hexdump -C ddoutre0137r00ss02.txt | grep ORCLDISK
       hexdump -C ddoutre0116r00sn02.txt | grep ORCLDISK
  367  dd if=ddoutre0116r00sn02.txt of=ddoutre0116r00sn02_7MB.txt bs=1048576 count=1 skip=7
  368  ls -l ddoutre0116r00sn02_7MB.txt
  369  dd if=ddoutre0116r00sn02_7MB.txt of=ddoutre0116r00sn02_7MB_254blk.txt bs=4096 count=2 skip=254
  370  ls -l ddoutre0116r00sn02_7MB_254blk.txt
  371  kfed read ddoutre0116r00sn02_7MB_254blk.txt | more
  372  kfed read ddoutre0116r00sn02.txt | more
  373  hexdump -C  ddoutre0116r00sn02.txt | more
  374  kfed read ddoutre0116r00sn02.txt | more
  375  kfed read ddoutre0116r00sn02.txt aun=0 blknum=1| more
  376  pwd
  377  ls -l
  378  kfed read ddoutre0116r00sn02.txt | more
  379  kfed read ddoutre0116r00sn02.txt blknum=1 aun=1| more
  380  kfed read ddoutre0116r00sn02.txt blknum=1 aun=0| more
  381  kfed read ddoutre0116r00sn02.txt blknum=2 aun=0| more
  382  kfed read ddoutre0116r00sn02.txt blknum=2 aun=2| more
  383  ls -l
  384  kfed read ddoutre0116r00sn02_7MB_254blk.txt | more
  385  kfed read ddoutre0116r00sn02_7MB_254blk.txt blknum=1| more
  386  ls -l
  387  kfed read ddoutre0116r00sn02.txt blknum=1 aun=0 | more
  388  od -c ddoutre0116r00sn02.txt | head -50
  389  hexdump -C ddoutre0116r00sn02.txt | more
  390  clear

  2056736
  
  1048576  << !! Actual  256
  
  
  1008160  << !! existing 246.136
    
  40416  39.46875
  1024  
  
  
  kfed read <disk>.txt ausz=4194304 aun=0 blknum=0   <<< Fails due to corruption 
  kfed read <disk>.txt ausz=4194304 aun=0 blknum=1   <<< Successfull no corruption
  kfed repair <disk>.txt ausz=4194304 ausz=4194304 aun=1 blknum=1022   <<< Repair the blk 0 aun 0 
  kfed read <disk>.txt ausz=4194304 aun=0 blknum=0   <<< check and verify resolved issue
  
  http://x.cygwin.com/docs/ug/setup.html#setup-cygwin-x-installing
  http://x.cygwin.com/docs/ug/using-remote-apps.html
  
  
============================================================================================================================================
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ Begin End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================

SYNTAX
*********************************************************************************************************************************************
*********************************************************************************************************************************************




  
The lock you see "enq: TX - row lock contention" happens because one session is trying to modify uncommited data from another session. There are 4 common reasons for this particular lock wait event:

    update/delete of the same row
    inserting the same uniq key
    modifying the same bitmap index chunk
    deleting/updating a parent value to a foreign key 
	
	Index Block split 
	Unique index key enforcement
	Foreign key enforcement
	ITL Space waits
	Bitmap chunk conflicys
	Alert tablespace .. readonly
	Free lists slot waits
	Possible with tow phase commit
	
	
http://www.oaktable.net/content/enqueue-%E2%80%93-it-pk-fk-or-bitmap-index-problem
http://refermefororacle.blogspot.in/2013/06/locking-issues.html
http://www.slideshare.net/khailey/oracle-10g-performance-chapter-09-enqueues
https://perfstat.wordpress.com/2014/09/08/deadlocks-due-to-unindexed-foreign-keys/
https://jonathanlewis.wordpress.com/2010/06/21/locks/
https://recurrentnull.wordpress.com/2013/12/17/unindexed-foreign-keys-considered-harmful-but-are-they/








http://eserver.livejournal.com/37993.html
http://unixadmin.free.fr/?p=161
http://www.santrainingblog.com/2010/03/scsi-sense-data/https://www.ibm.com/developerworks/community/forums/html/topic?id=77777777-0000-0000-0000-000014626629
http://www.stix.id.au/wiki/Interpreting_SENSE_DATA_in_AIX_errpt
http://www.stix.id.au/wiki/SCSI_Sense_Data
http://www.tek-tips.com/viewthread.cfm?qid=1286738
https://www.ibm.com/developerworks/community/forums/html/topic?id=77777777-0000-0000-0000-000014956737#77777777-0000-0000-0000-000014958279
3-9872260501
http://publibfp.dhe.ibm.com/epubs/pdf/c2343293.pdf
https://books.google.co.in/books?id=uuW1AgAAQBAJ&pg=PA169&lpg=PA169&dq=Description+DISK+OPERATION+ERROR++Probable+Causes+DASD+DEVICE++Failure+Causes+DISK+DRIVE+DISK+DRIVE+ELECTRONICS++%09Recommended+Actions+%09PERFORM+PROBLEM+DETERMINATION+PROCEDURES&source=bl&ots=JqCedzIhUD&sig=b50O7_Jhkf5hvjoLIYBjp-YneiI&hl=en&sa=X&ved=0CCQQ6AEwAWoVChMIzrPT5tTtxgIVRh6mCh3P_wVk#v=onepage&q=Description%20DISK%20OPERATION%20ERROR%20%20Probable%20Causes%20DASD%20DEVICE%20%20Failure%20Causes%20DISK%20DRIVE%20DISK%20DRIVE%20ELECTRONICS%20%20%09Recommended%20Actions%20%09PERFORM%20PROBLEM%20DETERMINATION%20PROCEDURES&f=false
http://publib.boulder.ibm.com/systems/hardware_docs/pdf/234329.pdf



se of Common Vulnerability Scoring System (CVSS) by Oracle (obsolete. Replaced by 394487.1) (Doc ID 395223.1)




How to Modify SCAN Setting or SCAN Listener Port after Installation (Doc ID 972500.1)
Bug 17006539 - CRSCTL TO DENY OPERATING ON ORA RESOURCES AND EXPOSING SOME ATTRIBUTES 
Bug 19217281 - LNX64-12.1-CRSCTL: REMOVE UN-SUPPORTED CRSCTL COMMANDS FROM THE HELP OUTPUT 


https://mosemp.us.oracle.com/epmos/faces/CommunityDisplay?resultUrl=https%3A%2F%2Fcommunity.oracle.com%2Fthread%2F3014179&_afrLoop=105471021598219&resultTitle=%3Cb%3Edbca%3C%2Fb%3E+failed+on+11gR2+rac&commId=3014179&_afrWindowMode=0&_adf.ctrl-state=1e9ipooc3_227















============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================
New SR  List:
Closed SR List :
Touched SR List :
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
....
===========================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :
ACFS File System Enable Fails With ORA-15489 If the Diskgroup Dismounts Abruptly on Windows (Doc ID 1579871.1)

DAY SUMMARY:
============================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :



https://mosemp.us.oracle.com/epmos/faces/CommunityDisplay?resultUrl=https%3A%2F%2Fcommunity.oracle.com%2Fthread%2F2759147&_afrLoop=211295496712210&resultTitle=oc4j+j2ee+oc4j_dbconsole+control+repository+not+found&commId=2759147&displayIndex=9&_afrWindowMode=0&_adf.ctrl-state=m3jv6mt7i_488
EMCA Fails with "ORA-04063: package body "SYSMAN.MGMT_GLOBAL" has error" (Doc ID 888503.1)





DAY SUMMARY: 
============================================================================================================================================
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ Begin End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================

SYNTAX
*********************************************************************************************************************************************
*********************************************************************************************************************************************















============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================
New SR  List:
Closed SR List :
Touched SR List :
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
....
===========================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :    

3-10036478811
How To Setup DNFS (Direct NFS) On Oracle Release 11.2 (Doc ID 1452614.1)
	Direct NFS hangs on ALTER DATABASE OPEN. (Doc ID 1991873.1)
	How do I Troubleshoot When I Can't Mount a Remote File System (NFSv2, NFSv3, NFSv4) (Doc ID 1019069.1)
	What is NFS Version 4? (Doc ID 1004761.1)
	What does nfsd do? (Doc ID 1007483.1)
	What version of NFS does Solaris implement? (Doc ID 1003078.1)


DAY SUMMARY:
============================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :
Services, instances, or other resources are not restarted or relocated after a state change (Doc ID 1942099.1)
Services, instances, or other resources are not restarted or relocated after a state change (Doc ID 1942099.1)
Node CRS not coming up- CRS-2683: It is locked by 'SYSTEM' for command 'Resource Autostart :<Node Name> (Doc ID 1484630.1)	
DAY SUMMARY: 
============================================================================================================================================
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ Begin End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================

SYNTAX
*********************************************************************************************************************************************
*********************************************************************************************************************************************





























============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================
New SR  List:
Closed SR List :
Touched SR List :
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
....
===========================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :ARCHIVES_SIBUAT
 	 DATA_SIBUAT
 	 REDO_SIBUAT1
 	 REDO_SIBUAT2
	 ARCHIVES_SIBTEST
	 DATA_SIBTEST
	 REDO_SIBTEST1
	 ARCHIVES_ORCLTEST
	 ARCHIVES_ORCL
	 
	 Bug 21195615 - MOUNT DISKGROUPS IS VERY SLOW AFTER UPTING TO 11.2.0.4
	 
	 DATA_SIBPRD
	 REDO_SIBPRD1
	 REDO_SIBPRD2
	 
DAY SUMMARY:
============================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :
	Troubleshooting 'enq: TX - index contention' Waits (Doc ID 873243.1)
	
DAY SUMMARY: 
============================================================================================================================================
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ Begin End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================

SYNTAX
*********************************************************************************************************************************************
*********************************************************************************************************************************************













============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================
New SR  List:
Closed SR List :
Touched SR List :
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
....

===========================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :



DAY SUMMARY:
Data Collection
--
@@@@oracheck_10152.log

2015-06-23 13:16:39.484: [OCRCHECK][3731052288]ocrcheck starts...
2015-06-23 13:16:40.440: [OCRCHECK][3731052288]protchcheck: OCR status : total = [262120], used = [5320], avail = [256800]

2015-06-23 13:16:40.440: [OCRCHECK][3731052288]Produnction ENV: Logical corruption check requires a privileged user
2015-06-23 13:16:40.440: [OCRCHECK][3731052288]Exiting [status=success]...

==

@@@@ASM Alert Log

Tue Jun 23 13:16:39 2015
 NOTE: [ocrcheck.bin@prod-ora-n1.int.immi.gov.au (TNS V1 10152] opening OCR file

==


015-06-23 13:16:39.481: [UiServer][3852388096] CS(0x7fb3a000d810)set Properties ( oggadm,0x7fb3a815b8a0)
 2015-06-23 13:16:39.492: [UiServer][3854489344]{1:63826:49146} Sending message to PE. ctx= 0x7fb398007a50, Client PID: 10150
 2015-06-23 13:16:39.501: [UiServer][3854489344]{1:63826:49146} Done for ctx=0x7fb398007a50
 2015-06-23 13:16:39.514: [UiServer][3852388096] CS(0x7fb3a0077cb0)set Properties ( oggadm,0x7fb3a815b260)
 2015-06-23 13:16:39.524: [UiServer][3854489344]{1:63826:49147} Sending message to PE. ctx= 0x7fb398011760, Client PID: 10150
 2015-06-23 13:16:39.531: [UiServer][3854489344]{1:63826:49147} Done for ctx=0x7fb398011760
 2015-06-23 13:16:41.114: [UiServer][3852388096] CS(0x7fb3a000a110)set Properties ( nrpe,0x7fb3a815b1a0)
 2015-06-23 13:16:41.126: [UiServer][3854489344]{1:63826:49148} Sending message to PE. ctx= 0x7fb398009050, Client PID: 10239
 2015-06-23 13:16:41.137: [UiServer][3854489344]{1:63826:49148} Done for ctx=0x7fb398009050

==============================================================================================================

@@@@oracheck_29637.log

Oracle Database 11g Clusterware Release 11.2.0.4.0 - Production Copyright 1996, 2011 Oracle. All rights reserved.
2015-06-23 11:50:39.360: [OCRCHECK][1066125056]ocrcheck starts...
2015-06-23 11:50:40.267: [OCRCHECK][1066125056]protchcheck: OCR status : total = [262120], used = [5320], avail = [256800]

2015-06-23 11:50:40.268: [OCRCHECK][1066125056]Produnction ENV: Logical corruption check requires a privileged user
2015-06-23 11:50:40.268: [OCRCHECK][1066125056]Exiting [status=success]...


@@@@ASM Alert Log

 Tue Jun 23 11:50:39 2015
 NOTE: [ocrcheck.bin@prod-ora-n1.int.immi.gov.au (TNS V1 29637] opening OCR file

@@@CRSD.log 2015-06-23 11:37:24.005: [UiServer][3854489344]{1:63826:31809} Sending message to PE. ctx= 0x7fb398009030, Client PID: 29637
 2015-06-23 11:37:24.012: [UiServer][3854489344]{1:63826:31809} Done for ctx=0x7fb398009030
 2015-06-23 11:37:24.026: [UiServer][3852388096] CS(0x7fb3a0084930)set Properties ( nrpe,0x7fb3a815c8a0)
 2015-06-23 11:37:24.036: [UiServer][3854489344]{1:63826:31810} Sending message to PE. ctx= 0x7fb398010700, Client PID: 29637
 2015-06-23 11:37:24.039: [UiServer][3854489344]{1:63826:31810} Done for ctx=0x7fb398010700
 2015-06-23 11:37:24.047: [UiServer][3852388096] CS(0x7fb3a005db50)set Properties ( nrpe,0x7fb3a8192e90)
 2015-06-23 11:37:24.058: [UiServer][3854489344]{1:63826:31811} Sending message to PE. ctx= 0x7fb398010570, Client PID: 29637
 2015-06-23 11:37:24.062: [UiServer][3854489344]{1:63826:31811} Done for ctx=0x7fb398010570
 2015-06-23 11:37:24.068: [UiServer][3852388096] CS(0x7fb3a0095870)set Properties ( nrpe,0x7fb3a815c790)
 2015-06-23 11:37:24.079: [UiServer][3854489344]{1:63826:31812} Sending message to PE. ctx= 0x7fb398010630, Client PID: 29637
 2015-06-23 11:37:24.082: [UiServer][3854489344]{1:63826:31812} Done for ctx=0x7fb398010630
 2015-06-23 11:37:24.090: [UiServer][3852388096] CS(0x7fb3a0079610)set Properties ( nrpe,0x7fb3a8194700)
 2015-06-23 11:37:24.100: [UiServer][3854489344]{1:63826:31813} Sending message to PE. ctx= 0x7fb398009340, Client PID: 29637
 2015-06-23 11:37:24.104: [UiServer][3854489344]{1:63826:31813} Done for ctx=0x7fb398009340
 2015-06-23 11:37:24.111: [UiServer][3852388096] CS(0x7fb3a006ca80)set Properties ( nrpe,0x7fb3a815c710)
 2015-06-23 11:37:24.121: [UiServer][3854489344]{1:63826:31814} Sending message to PE. ctx= 0x7fb3980086c0, Client PID: 29637
 2015-06-23 11:37:24.134: [UiServer][3854489344]{1:63826:31814} Done for ctx=0x7fb3980086c0
 2015-06-23 11:37:24.145: [UiServer][3852388096] CS(0x7fb3a0099810)set Properties ( nrpe,0x7fb3a815c960)
 2015-06-23 11:37:24.156: [UiServer][3854489344]{1:63826:31815} Sending message to PE. ctx= 0x7fb3980088f0, Client PID: 29637
 2015-06-23 11:37:24.160: [UiServer][3854489344]{1:63826:31815} Done for ctx=0x7fb3980088f0
 2015-06-23 11:37:24.166: [UiServer][3852388096] CS(0x7fb3a0068060)set Properties ( nrpe,0x7fb3a8193350)
 2015-06-23 11:37:24.177: [UiServer][3854489344]{1:63826:31816} Sending message to PE. ctx= 0x7fb398011bd0, Client PID: 29637


===========================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :



DAY SUMMARY:
Bug 20299017  11.2.0.3.14 (Apr 2015) Database Patch Set Update (DB PSU)



===========================================================================================================================================
SR Number                               Description:
============================================================================================================================================
Key :
Summary
============================

ksoreq_get ksbsrv ksvspawn ksvcheckpool ksvcheckpool ksvsubmitwait ksvwait             
 ksvsubmit  kfncSlaveSubmit kfncBlockRepair  kfioBlockRepair kfioCompleteIO      
 kfioWaitIO kfioRequestPriv kfioRequest  ksfd_kfioRequest 
DAY SUMMARY:


============================================================================================================================================
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ Begin End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================









============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================
New SR  List:
Closed SR List :
Touched SR List :
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
....
============================================================================================================================================
SR Number       3-10918248315                        Description:ASM Queries
============================================================================================================================================
Key :


DAY SUMMARY: 

Voting files manage information about node membership. OCR is a system that manages cluster and Oracle Real Application Clusters (Oracle RAC) 
database configuration information. A quorum failure group is a special type of failure group and disks in these failure groups do not contain 
user data. A quorum failure group is not considered when determining redundancy requirements in respect to storing user data. However, a quorum
 failure group counts when mounting a disk group. For information about failure groups, see "Oracle ASM Failure Groups".
 http://docs.oracle.com/cd/E11882_01/server.112/e18951/asmdiskgrps.htm#OSTMG137
 
 select path from v$asm_disk;
 
 You can use the -l and -ll options of the multipath command to display the current multipath configuration. The -l option displays multipath 
 topology gathered from information in sysfs and the device mapper. The -ll option displays the information the -l option displays in addition 
 to all other available components of the system. 
 
  /etc/multipath.conf
  
  
============================================================================================================================================
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
============================================================================================================================================
+++++++++++++++++++++++++++++++++++++++++++++++++ Begin End  <DATE> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
============================================================================================================================================


1.Cluster ware is no need to be relinked .
2.It is necessary for rdbms to relink all the binaries .

You can refer to the note below to relink rdbms

How to Relink Oracle Database Software on UNIX (Doc ID 131321.1)

Note: Please backup the $ORACLE_HOME binaries before performing the command "relink all"

Please fell free to update the SR once you got any other concerns.




========================================================================================================================================================================================================================================================================================================================================================================================================================
ksedsts()+461<-kjzdssdmp()+267<-kjzduptcctx()+232<-kjzdicrshnfy()+53<-ksuitm()+1332<-ksbrdp()+3344<-opirip()+623
<-opidrv()+603<-sou2o()+103<-opimai_real()+266<-ssthrdmain()+252<-main()+201<-__libc_start_main()+253<-_start()+36 


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

KFED.PL for diagnosing - ORA-15063 ORA-15042 ORA-15020 ORA-15033 (Doc ID 1346190.1)

Bug 15924261 : RAC DB GIVING SPORADICALLY (WARNING: ASM COMMUNICATION ERROR) BUT ASM SHOWS NO E

3-8026736687
	@ connect as SYS and run the below sql
@ .
@ @?/rdbms/admin/stdbody.sql
@ .
@ Now run
@ select dbms_qopatch.get_pending_activity from dual ; -- It should go through
@ fine.

 	
	ORA-27300: OS System Dependent Operation:fork Failed With Status: 11 (Doc ID 1546393.1)

	
				++++++++++++++++++++++++++++++++++++
				Troubleshooting ORA-27300 ORA-27301 ORA-27302 Errors (Doc ID 579365.1)
				
				
				
	
	COLNING
+++++++
There is various storage cloning methods and technologies used by different storage vendors. As long as the cloning techology creates consistent snapshots of all the disks in an ASM disk group then the diskgroup based on the copied LUNs can be mounted at an alternate site.

- EMC CLARiiON SnapView and MirrorView (also known as BCV copy)
- Hitachi Data Systems (HDS): Universal Storage Platform Replication Software
- IBM FlashCopy

Most common disk cloning technologies is mentioned in the following link. The documents specific for each vendor also explains the best practices when creating the disk copies.

http://www.oracle.com/technetwork/database/index-100339.html

Note: The POC and Procedure of the storage clone comes from the respective Vendor.
	
	 
	
	
	
	
	
Bug 13495419 : WARNING: ASM COMMUNICATION ERROR: ERROR: DIRECT CONNECTION

Bug 13092226  ORA-1031 when connecting as SYSDBA if Unix group member list is large - superseded
ASM Database Instance Is Reporting: “[WARNING: ASM communication error: op 0 state 0x0 (15055)]” (Doc ID 1665311.1)
	ASM Database Instance Is Reporting: “[WARNING: ASM communication error: op 0 state 0x0 (15055)]” (Doc ID 1665311.1)
	
	WARNING: ASM Communication Error: Op 0 State 0x0 (15055), ERROR: Direct Connection Failure With ASM. ORA-1031 reported additionally (Doc ID 1519413.1)
	
	
INSTANCE_NUMBER INSTANCE_NAME
--------------- ----------------
HOST_NAME
----------------------------------------------------------------
VERSION           STARTUP_T STATUS       PAR    THREAD# ARCHIVE LOG_SWITCH_WAIT
----------------- --------- ------------ --- ---------- ------- ---------------
LOGINS     SHU DATABASE_STATUS   INSTANCE_ROLE      ACTIVE_ST BLO
---------- --- ----------------- ------------------ --------- ---
              1 BIP
PIBMAPBIDB02
11.2.0.2.0        25-MAY-15 MOUNTED      NO           1 STARTED
ALLOWED    NO  ACTIVE            PRIMARY_INSTANCE   NORMAL    NO

Bug 20838950 : FLEX: CLUSTERWARE INSTALL FAILS, FIRST NODE REBOOTS DURING FIRST ROOT SCRIPT

GPnP Wallets ownership/permissions successfully set. [node-local=0]
Stopping CSS which is running exclusive mode

crsutils::dietrap
 main::__ANON__
 crsinstall::start_cluster
crsinstall::prepare_to_start_clusterware
 crsinstall::CRSInstall
 crsinstall::new

ksedsts()+380<-ksdxfstk()+52<-ksdxcb()+3524<-sspuser()+140<-__sighndlr()+12<-call_user_handler()+992<-sigacthandler()+104
<-__systemcall6()+36<-__lwp_sigmask()+56
<-_pthread_sigmask()+452<-sslssalck()+152<-sskgxp_alarm_set()+44<-skgxp_twait()+388<-sslsshandler()+712
<-__sighndlr()+12<-call_user_handler()+992<-sigacthandler()+104<-__pollsys()+8
<-_pollsys()+260<-_poll()+136<-ssskgxp_poll()+36<-sskgxp_select()+108<-skgxpiwait()+5380
<-skgxpwaiti()+3880<-skgxpwait()+1016<-ksxpwait()+3372<-ksliwat()+10480<-kslwait()+240<-ksarcv()+212<-kjclwmg()+36<-kjfcln()+4280<-ksbrdp()+1616<-opirip()+1680<-opidrv()+748<-sou2o()+88<-opimai_real()+276<-ssthrdmain()+316<-main()+316<-_start()+380



  application name: siebsh@bsssblappv1020 (TNS V1-V3), hash value=3723418616
   current SQL:
   UPDATE	SIEBEL.EIM_ALERT_CUT
     SET	T_ALERT_CUT__STA = 113
  WHERE (IF_ROW_BATCH_NUM = :V1 AND
 	IF_ROW_STAT_NUM = 0 AND
 T_ALERT_CUT__EXS = 'Y' AND
 T_ALERT_CUT__UNQ = 'Y' AND
 	T_ALERT_CUT__STA = 0)
	
	
	UPDATE	SIEBEL.EIM_ALERT_CUT
     SET	IF_ROW_STAT_NUM = 0,
 	IF_ROW_STAT = 'IN_PROGRESS',
 	T_ALERT_CUT__STA = 0,
 	T_ALERT_CUT__RID = NULL,
 	T_ALERT_CUT__EXS = 'N',
 	T_ALERT_CUT__UNQ = 'N',
 	T_ALERT_CUT_ACCNTI = NULL,
 	T_ALERT_CUT_OWNERE = NULL,
 	T_BILL_PROFILE_ID = NULL,
 	T_ALERTATTC__STA = NULL,
 	ACTION_DUE_DT = DECODE(ACTION_DUE_DT,NULL,TO_DATE(NULL),
 		TO_DATE(TO_CHAR(ACTION_DUE_DT,'YYYY-MM-DD')||' 00:00:00','YYYY-MM-DD HH24:MI:SS'))
  WHERE (IF_ROW_BATCH_NUM = :V1)
  
  


/u01/app/11.2.0/grid/bin
bash-4.2# ./crsctl start crs -excl
CRS-4123: Oracle High Availability Services has been started.
CRS-2672: Attempting to start 'ora.gipcd' on 'ipaytest2'
CRS-2672: Attempting to start 'ora.mdnsd' on 'ipaytest2'
CRS-2676: Start of 'ora.gipcd' on 'ipaytest2' succeeded
CRS-2676: Start of 'ora.mdnsd' on 'ipaytest2' succeeded
CRS-2672: Attempting to start 'ora.gpnpd' on 'ipaytest2'
CRS-2676: Start of 'ora.gpnpd' on 'ipaytest2' succeeded
CRS-2672: Attempting to start 'ora.cssdmonitor' on 'ipaytest2'
CRS-2676: Start of 'ora.cssdmonitor' on 'ipaytest2' succeeded
CRS-2672: Attempting to start 'ora.cssd' on 'ipaytest2'
CRS-2679: Attempting to clean 'ora.diskmon' on 'ipaytest2'
CRS-2681: Clean of 'ora.diskmon' on 'ipaytest2' succeeded
CRS-2672: Attempting to start 'ora.diskmon' on 'ipaytest2'

CRS-2676: Start of 'ora.diskmon' on 'ipaytest2' succeeded
CRS-2674: Start of 'ora.cssd' on 'ipaytest2' failed
CRS-2679: Attempting to clean 'ora.cssd' on 'ipaytest2'
CRS-2681: Clean of 'ora.cssd' on 'ipaytest2' succeeded
CRS-2673: Attempting to stop 'ora.diskmon' on 'ipaytest2'
CRS-2677: Stop of 'ora.diskmon' on 'ipaytest2' succeeded
CRS-2673: Attempting to stop 'ora.cssdmonitor' on 'ipaytest2'
CRS-2677: Stop of 'ora.cssdmonitor' on 'ipaytest2' succeeded
CRS-2673: Attempting to stop 'ora.gpnpd' on 'ipaytest2'
CRS-2677: Stop of 'ora.gpnpd' on 'ipaytest2' succeeded
CRS-2673: Attempting to stop 'ora.mdnsd' on 'ipaytest2'
CRS-2677: Stop of 'ora.mdnsd' on 'ipaytest2' succeeded
CRS-2673: Attempting to stop 'ora.gipcd' on 'ipaytest2'
CRS-2677: Stop of 'ora.gipcd' on 'ipaytest2' succeeded
CRS-4000: Command Start failed, or completed with errors.
bash-4.2#
bash-4.2# ps -ef | grep d.bin
    root 422052      1   1 15:29:26      -  0:06 /u01/app/11.2.0/grid/bin/ohasd.bin exclusive
bash-4.2# ps -ef | grep d.bin
    root 422052      1   1 15:29:26      -  0:06 /u01/app/11.2.0/grid/bin/ohasd.bin exclusive
bash-4.2# ./crsctl stat res -t -init
--------------------------------------------------------------------------------
NAME           TARGET  STATE        SERVER                   STATE_DETAILS
--------------------------------------------------------------------------------
Cluster Resources
--------------------------------------------------------------------------------
ora.asm
      1        OFFLINE OFFLINE
ora.crsd
      1        OFFLINE OFFLINE
ora.cssd
      1        ONLINE  OFFLINE
ora.cssdmonitor
      1        ONLINE  OFFLINE
ora.ctssd
      1        OFFLINE OFFLINE
ora.diskmon
      1        ONLINE  OFFLINE
ora.evmd
      1        OFFLINE OFFLINE
ora.gipcd
      1        ONLINE  OFFLINE
ora.gpnpd
      1        ONLINE  OFFLINE
ora.mdnsd
      1        ONLINE  OFFLINE
bash-4.2# ./crsctl stop crs
CRS-4133: Oracle High Availability Services has been stopped.
bash-4.2# .kfod asm_diskstring='/dev/'
bash: .kfod: command not found
bash-4.2# ./kfod asm_diskstring='/dev/'


KFOD-00301: file not found; arguments: [2] [kgxgncin]
-bash-4.2# ./kfod asm_diskstring='/dev/rhdisk*'
--------------------------------------------------------------------------------
 Disk          Size Path                                     User     Group
================================================================================
   1:     140013 Mb /dev/rhdisk0                             root     system
   2:     286102 Mb /dev/rhdisk1                             root     system
   3:     286102 Mb /dev/rhdisk2                             root     system
   4:      71680 Mb /dev/rhdisk8                             grid     oinstall
KFOD-00301: file not found; arguments: [2] [kgxgncin]
-bash-4.2# ./kfod asm_diskstring='/dev/rhdis*'
--------------------------------------------------------------------------------
 Disk          Size Path                                     User     Group
================================================================================
   1:     140013 Mb /dev/rhdisk0                             root     system
   2:     286102 Mb /dev/rhdisk1                             root     system
   3:     286102 Mb /dev/rhdisk2                             root     system
   4:      71680 Mb /dev/rhdisk8                             grid     oinstall
KFOD-00301: file not found; arguments: [2] [kgxgncin]
-bash-4.2# ./kfod asm_diskstring='/dev/rhdisk3'
KFOD-00301: file not found; arguments: [2] [kgxgncin]



-bash-4.2# ./kfod asm_diskstring='/dev/rhdis*' disks=all status=true
--------------------------------------------------------------------------------
 Disk          Size Header    Path                                     User     Group
================================================================================
   1:     140013 Mb CANDIDATE /dev/rhdisk0                             root     system
   2:     286102 Mb CANDIDATE /dev/rhdisk1                             root     system
   3:     286102 Mb CANDIDATE /dev/rhdisk2                             root     system
   4:      71680 Mb MEMBER    /dev/rhdisk3                             grid     oinstall
   5:      71680 Mb MEMBER    /dev/rhdisk4                             grid     oinstall
   6:      71680 Mb MEMBER    /dev/rhdisk5                             grid     oinstall
   7:      71680 Mb MEMBER    /dev/rhdisk6                             grid     oinstall
   8:      71680 Mb MEMBER    /dev/rhdisk7                             grid     oinstall
   9:      71680 Mb CANDIDATE /dev/rhdisk8                             grid     oinstall

   
   
   
   
13583387 : CSSD TAKES 2 HOURS TO COME UP DUE TO DISC DISCOVERY
Bug 17066656 : CRS DOESN'T START DUE TO MISSING VOTING FILE AFTER STORAGE UPGRADE
CRS-2797: Shutdown is already in progress for 'ipaytest1', waiting for it to complete
Closed: remote end failed/disc.
 SPFile="+CRS/ipaytes-cluster/asmparameterfile/registry.253.819305471"
 
 
clssgmClientConnectMsg: Connect from con(1c4) proc(111b47950) pid(962736) version 11:2:1:4, properties: 1,2,3,4
2015-05-27 12:54:31.403: [    CSSD][1286]clssgmClientConnectMsg: msg flags 0x0000
2015-05-27 12:54:31.404: [    CSSD][1286]clssgmEvtInformation: reqtype (11) cmProc (111b47950) cli              ent (0)
2015-05-27 12:54:31.404: [    CSSD][1286]clssgmEvtInformation: reqtype (11) req (111b47d30)
2015-05-27 12:54:31.404: [    CSSD][1286]clssnmQueueNotification: type (11) 111b47d30





2015-05-27 13:03:31.753: [    GPnP][1029]CLSDM requested check alive. Ready:1 [ini:0,eq:0,stp:0]
2015-05-27 13:03:40.078: [    GPnP][772]clsgpnp_ocrDetectThread: [at clsgpnp0.c:4302 clsgpnp_ocrDetectThread] OCR init check after 90 secs sleep



2015-05-27 13:03:40.078: [    GPnP][772]clsgpnpou_initocr: [at clsgpnpou.c:124 clsgpnpou_initocr] ENTRY
2015-05-27 13:03:40.244: [    GPnP][772]clsgpnpou_initocr: [at clsgpnpou.c:155 clsgpnpou_initocr] Result: (59) CLSGPNP_OCR_NOSRV. Failed to init OCR context at level 7. OCR Error: PROC-32: Cluster Ready Services on the local node is not running Messaging error [9]
2015-05-27 13:03:40.244: [    GPnP][772]clsgpnpou_initocr: GPnP api clsgpnpou_initocr failed
2015-05-27 13:03:40.244: [    GPnP][772]clsgpnpou_initocr: GPnP error code : 59 (CLSGPNP_OCR_NOSRV)
2015-05-27 13:03:40.244: [    GPnP][772]clsgpnpou_initocr: [at clsgpnpou.c:173 clsgpnpou_initocr] EXIT (59) CLSGPNP_OCR_NOSRV
2015-05-27 13:04:01.756: [    GPnP][1029]CLSDM requested check alive. Ready:1 [ini:0,eq:0,stp:0]
2015-05-27 13:04:08.101: [    GPnP][1]clsgpnpd_bgThread: [at clsgpnpd.c:4203 clsgpnpd_bgThread] GPnPD BG loop - ongoing 5000 sec RD events poll in progress... Thread is alive (this message printed only once every 1 min).
2015-05-27 13:04:09.149: [    GPnP][1800]clsgpnpd_pushThread: [at clsgpnpd.c:4493 clsgpnpd_pushThread] GPnPD PUSH - ongoing 2 sec PUSH check in progress... Thread is alive (this message printed only once every 1 min). last sltsrv=-78
2015-05-27 13:04:17.149: [    GPnP][1543]clsgpnpd_dispatchThread: [at clsgpnpd.c:4294 clsgpnpd_dispatchThread] GPnPD Work loop - ongoing 5 sec GIPC wait in progress... Thread is alive (this message printed only once every 1 min).
2015-05-27 13:04:31.757: [    GPnP][1029]CLSDM requested check alive. Ready:1 [ini:0,eq:0,stp:0]

https://community.oracle.com/thread/2151209
http://aru.us.oracle.com:8080/ARU/Download/process_download/p17302090_112037_Linux-x86-64.zip?file=p17302090_112037_Linux-x86-64.zip&aru=17364082&patch_file=adcarurepos.us.oracle.com:/vol/patch30/PLATFORM/CORE/Linux-x86-64/R80112030702/p17302090_112037_Linux-x86-64.zip&file_id=77896711
Bug 8479531:: Database hang on starting up a database (Doc ID 1906957.1)

 OPatch.ORACLE_HOME=/oracle/app/oracrs/oracrsdb/crs11g
   oracle.installer.invPtrLoc=/oracle/app/oracrs/oracrsdb/crs11g/oraInst.loc
   oracle.installer.oui_loc=/oracle/app/oracrs/oracrsdb/crs11g/oui
   oracle.installer.library_loc=/oracle/app/oracrs/oracrsdb/crs11g/oui/lib/linux
   oracle.installer.startup_location=/oracle/app/oracrs/oracrsdb/crs11g/oui
   OPatch.PLATFORM_ID=
   os.name=Linux
   OPatch.NO_FUSER=
   OPatch.SKIP_VERIFY=null
   OPatch.SKIP_VERIFY_SPACE=null
   oracle.installer.clusterEnabled=false
   TRACING.ENABLED=TRUE
   TRACING.LEVEL=2
   OPatch.DEBUG=true
   OPATCH_VERSION=11.1.0.12.5
   Bundled OPatch Property File=properties
   Minimum OUI version: 10.2
   OPatch.PATH=/usr/local/bin:/usr/bin:/usr/X11R6/bin:/bin:/usr/games:/opt/gnome/bin:/usr/lib/mit/bin:/usr/lib/mit/sbin:/opt/nsr:/oracle/app/emagt/admin/bin:/oracle/app/emagt/admin/scripts:/opt/nsr
Stand-Alone home : false
   OPatch.MW_HOME=
   OPatch.WL_HOME=
   OPatch.COMMON_COMPONENTS_HOME=


Environment:
   OPatch.ORACLE_HOME=/oracle/app/oracrs/oracrsdb/crs11g
   oracle.installer.invPtrLoc=/oracle/app/oracrs/oracrsdb/crs11g/oraInst.loc
   oracle.installer.oui_loc=/oracle/app/oracrs/oracrsdb/crs11g/oui
   oracle.installer.library_loc=/oracle/app/oracrs/oracrsdb/crs11g/oui/lib/linux
   oracle.installer.startup_location=/oracle/app/oracrs/oracrsdb/crs11g/oui
   OPatch.PLATFORM_ID=
   os.name=Linux
   OPatch.NO_FUSER=
   OPatch.SKIP_VERIFY=null
   OPatch.SKIP_VERIFY_SPACE=null
   oracle.installer.clusterEnabled=false
   TRACING.ENABLED=TRUE
   TRACING.LEVEL=2
   OPatch.DEBUG=true
   OPATCH_VERSION=11.1.0.12.5
   Bundled OPatch Property File=properties
   Minimum OUI version: 10.2
   OPatch.PATH=/usr/local/bin:/usr/bin:/usr/X11R6/bin:/bin:/usr/games:/opt/gnome/bin:/usr/lib/mit/bin:/usr/lib/mit/sbin:/opt/nsr:/oracle/app/emagt/admin/bin:/oracle/app/emagt/admin/scripts:/opt/nsr
Stand-Alone home : false
   OPatch.MW_HOME=
   OPatch.WL_HOME=
   OPatch.COMMON_COMPONENTS_HOME=



Oracle Home       : /oracle/app/oracrs/oracrsdb/crs11g
Central Inventory : /oracle/app/oracrs/oracrsoi
   from           : /oracle/app/oracrs/oracrsdb/crs11g/oraInst.loc
OPatch version    : 11.1.0.12.5
OUI version       : 11.1.0.7.0
Log file location : /oracle/app/oracrs/oracrsdb/crs11g/cfgtoollogs/opatch/opatch2015-04-23_15-38-46PM_1.log


---

Hello Gaurabh - 


   Result info: <CV_CMD>/oracle/app/oracrs/oracrsdb/crs11g/OPatch/opatch lsinv -oh /oracle/app/oracrs/oracrsdb/crs11g </CV_CMD>
   <CV_VAL>Invoking OPatch 11.1.0.6.2
   Oracle Interim Patch Installer version 11.1.0.6.2
   Copyright (c) 2007, Oracle Corporation.  All rights reserved.
   Oracle Home       : /oracle/app/oracrs/oracrsdb/crs11gCentral 
   Inventory : /oracle/app/oracrs/oracrsoi   
   from           : /etc/oraInst.loc
   OPatch version    : 11.1.0.6.2
   OUI version       : 11.1.0.7.0
   OUI location      : /oracle/app/oracrs/oracrsdb/crs11g/ouiLog 
   file location : /oracle/app/oracrs/oracrsdb/crs11g/cfgtoollogs/opatch/opatch2015-04-20_15-59-48PM.log
   Inventory load failed... 
   OPatch cannot load inventory for the given Oracle Home.
   LsInventorySession failed: LsInventory cannot create the log directory /oracle/app/oracrs/oracrsdb/crs11g/cfgtoollogs/opatch/lsinv/lsinventory2015-04-20_15-59-48PM.txt
   OPatch failed with error code 73</CV_VAL><CV_VRES>73</CV_VRES><CV_LOG>Exectask: RunGenCmd successful</CV_LOG><CV_ERES>0</CV_ERES>



Result info: <CV_CMD>/oracle/app/oracrs/oracrsdb/crs11g/OPatch/opatch lsinv -oh /oracle/app/oracrs/oracrsdb/crs11g 
</CV_CMD><CV_VAL>Invoking OPatch 11.1.0.6.2
Oracle Interim Patch Installer version 11.1.0.6.2
Copyright (c) 2007, Oracle Corporation.  All rights reserved.
Oracle Home       : /oracle/app/oracrs/oracrsdb/crs11gCentral 
Inventory : /oracle/app/oracrs/oracrsoi   
from           : /etc/oraInst.loc
OPatch version    : 11.1.0.6.2
OUI version       : 11.1.0.7.0
OUI location      : /oracle/app/oracrs/oracrsdb/crs11g/oui
Log file location : /oracle/app/oracrs/oracrsdb/crs11g/cfgtoollogs/opatch/opatch2015-04-20_15-59-48PM.log
Lsinventory Output file location : /oracle/app/oracrs/oracrsdb/crs11g/cfgtoollogs/opatch/lsinv/lsinventory2015-04-20_15-59-48PM.txt

 kgdsdst() clssscExit() clssgmclientlsnr()+  call clssscthrdmain()+28 __pthread_bound_body  clssscthrdmain
 
 
 
nrd-oradb-01:~$ ifconfig -a
lo0: flags=2001000849<UP,LOOPBACK,RUNNING,MULTICAST,IPv4,VIRTUAL> mtu 8232 index 1
       inet 127.0.0.1 netmask ff000000
dbipmp0: flags=108001000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.11 netmask ffffff00 broadcast 10.1.47.255
       groupname dbipmp0
dbipmp0:1: flags=108001040843<UP,BROADCAST,RUNNING,MULTICAST,DEPRECATED,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.21 netmask ffffff00 broadcast 10.1.47.255
dbipmp0:4: flags=108001000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.53 netmask ffffff00 broadcast 10.1.47.255
dbipmp0:5: flags=108001000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.51 netmask ffffff00 broadcast 10.1.47.255
	   


dbipmp0: flags=108001000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.11 netmask ffffff00 broadcast 10.1.47.255
       groupname dbipmp0
dbipmp0:1: flags=108001040843<UP,BROADCAST,RUNNING,MULTICAST,DEPRECATED,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.21 netmask ffffff00 broadcast 10.1.47.255
dbipmp0:2: flags=108001040843<UP,BROADCAST,RUNNING,MULTICAST,DEPRECATED,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.53 netmask ffffff00 broadcast 10.1.47.255
dbipmp0:3: flags=108001040843<UP,BROADCAST,RUNNING,MULTICAST,DEPRECATED,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.51 netmask ffffff00 broadcast 10.1.47.255


dbipmp0: flags=108001000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.12 netmask ffffff00 broadcast 10.1.47.255
       groupname dbipmp0
dbipmp0:1: flags=108001040843<UP,BROADCAST,RUNNING,MULTICAST,DEPRECATED,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.22 netmask ffffff00 broadcast 10.1.47.255
dbipmp0:2: flags=108001040843<UP,BROADCAST,RUNNING,MULTICAST,DEPRECATED,IPv4,IPMP,PHYSRUNNING> mtu 1500 index 2
       inet 10.1.47.52 netmask ffffff00 broadcast 10.1.47.255
(truncated)

	   
	   
	   
Hi APMM,
 
Refer to se section includes the following procedures to delete nodes from clusters in an
Oracle RAC environment:
■ Deleting Instances from Oracle RAC Databases
■ Removing Oracle RAC
■ Deleting Nodes from the Cluster

http://docs.oracle.com/cd/E11882_01/rac.112/e41960/adddelunix.htm#RACAD7358
oracle     20316196   1.2  14.1 grid            Sios          0  % Used     53
oraroota   15663228   1.0  34.8 root                             % Free     47
osysmond    7864560   1.0 100.7 root            NFS (calls/sec)
oraagent   22216744   1.0  60.4 oracle          SerV2         0  WPAR Activ     0
oracle     40173688   0.6  12.8 grid            CliV2         0  WPAR Total     0
ocssd.bi   15270038   0.5 112.4 grid            SerV3         0  Press: "h"-help
oracle     18415700   0.5  24.6 oracle          CliV3         0         "q"-quit
oraagent   17891542   0.4  91.3 grid
crsd.bin   15138858   0.4  81.8 root
oracle     13369378   0.4  15.6 oracle
oracle     30802054   0.3  14.2 grid
nfssync_    4784278   0.3   0.7 root
oracle     11075586   0.3  30.7 oracle
crsd.bin ocssd.bin oraagent osysmond 
3-7241330431

Bug 9581000 : ASM DISKGROUP BEING DISMOUNTED BECAUSE OF ERROR: CACHE FAILED TO READ

lrwxrwxrwx   1 oracle   oinstall      67 Feb 17  2012 c3t60080E50002C121C0000026E4F3D86E4d0s3 -> ../../devices/scsi_vhci/ssd@g60080e50002c121c0000026e4f3d86e4:d,raw
lrwxrwxrwx   1 oracle   oinstall      67 Feb 17  2012 c3t60080E50002C121C0000026E4F3D86E4d0s4 -> ../../devices/scsi_vhci/ssd@g60080e50002c121c0000026e4f3d86e4:e,raw
lrwxrwxrwx   1 oracle   oinstall      67 Feb 17  2012 c3t60080E50002C121C0000026E4F3D86E4d0s5 -> ../../devices/scsi_vhci/ssd@g60080e50002c121c0000026e4f3d86e4:f,raw
lrwxrwxrwx   1 oracle   oinstall      67 Feb 17  2012 c3t60080E50002C121C0000027A4F3D895Cd0s3 -> ../../devices/scsi_vhci/ssd@g60080e50002c121c0000027a4f3d895c:d,raw
lrwxrwxrwx   1 oracle   oinstall      67 Feb 17  2012 c3t60080E50002C121C0000027A4F3D895Cd0s4 -> ../../devices/scsi_vhci/ssd@g60080e50002c121c0000027a4f3d895c:e,raw
 
 c3t60080E50002C121C0000027A4F3D895Cd0s3
 c3t60080E50002C121C0000026E4F3D86E4d0s5
 c3t60080E50002C121C0000026E4F3D86E4d0s3
 c3t60080E50002C121C0000026E4F3D86E4d0s4

 
 
NOTE: initializing header on grp 2 disk TEST_0000
kfdp_dismount(): 4
kfdp_dismountBg(): 4
NOTE: erasing header on grp 2 disk TEST_0000
kfdp_dismount(): 5
kfdp_dismountBg(): 5
NOTE: De-assigning number (2,0) from disk (/dev/rdsk/c3t60080E50002C121C0000026E4F3D86E4d0s4)
ERROR: diskgroup TEST was not created
ORA-15018: diskgroup cannot be created
ORA-15020: discovered duplicate ASM disk "TEST_0000"
ERROR: create diskgroup test external redundancy disk '/dev/rdsk/c3t60080E50002C121C0000026E4F3D86E4d0s4'
2015-03-10 11:00:43.759000 +08:00
SQL> create diskgroup test2 external redundancy disk '/dev/rdsk/c3t60080E50002C121C0000026E4F3D86E4d0s4'
NOTE: Assigning number (2,0) to disk (/dev/rdsk/c3t60080E50002C121C0000026E4F3D86E4d0s4)
NOTE: initializing header on grp 2 disk TEST2_0000
kfdp_dismount(): 6
kfdp_dismountBg(): 6
NOTE: erasing header on grp 2 disk TEST2_0000
kfdp_dismount(): 7
kfdp_dismountBg(): 7
NOTE: De-assigning number (2,0) from disk (/dev/rdsk/c3t60080E50002C121C0000026E4F3D86E4d0s4)
ERROR: diskgroup TEST2 was not created
ORA-15018: diskgroup cannot be created
ORA-15020: discovered duplicate ASM disk "TEST2_0000"
ERROR: create diskgroup test2 external redundancy disk '/dev/rdsk/c3t60080E50002C121C0000026E4F3D86E4d0s4'

 
 ZT_0000            MEMBER              /dev/rdsk/c3t60080E50002C121C0000027A4F3D895Cd0s3
                         CANDIDATE         /dev/rdsk/c3t60080E50002C121C0000026E4F3D86E4d0s4
                         CANDIDATE         /dev/rdsk/c3t60080E50002C121C0000026E4F3D86E4d0s3
                         CANDIDATE         /dev/rdsk/c3t60080E50002C121C0000026E4F3D86E4d0s6
                         CANDIDAT          /dev/rdsk/c3t60080E50002C121C0000026E4F3D86E4d0s5 
 
 
Summary: We are observing high SWAP utilization RAC environment. Attached is the TOPAS output.

Kindly let usknow what all logs are required to troubleshoot the issue further.

 SR - 3-10374945511
 ------------------------------------------------------------------------------------------------------------------------------
 ( owner ='USERNAME@RACLE.COM' AND status='Open' AND (sub-Status='New' OR sub-Status='Work In Progress' 
 OR sub-Status='Review Update' OR sub-Status='Review Defect' OR sub-Status='Reveiw Task' or sub-Status='Awaiting Internal Response' 
 or sub-Status='Development Working'))  OR (status='Open' AND  nextResponseDue <=  %%SERVER_TIME(36)%% and owner ='USERNAME@ORACLE.COM' )  
------------------------------------------------------------------------------------------
OS Watcher and CHM is for 11.2
Only OS watcher is for below 11.1
-----------------------------------------------------------------------------------------------

Summary:
We are observing high SWAP utilization RAC environment. 
Attached is the TOPAS output.


SR: 3-10246384461


----------------------------------------------------------------------------------------------------------------------------------------------------
Solution 1:  Conditions :  They should not be using ACFS;  Require down time

From the OS side check what all partitions are been made to the exiting disk.
the fdisk command is used to display and manipulate the partitions.

If you still have free space in the exiting disk we can create new partitions
we can add it to the exiting disk group in a rolling fashion.

ref : How to resize a physical disk or LUN and an ASM DISKGROUP (Doc ID 311619.1)

The purpose of this document is to provide the steps required to resize a physical disk
or LUN at the operating system level and subsequently resize the diskgroup using the new space.


Solution 2:  Do not require down time.

In order to begin we would need to make sure that the Disks are visible to the OS
and formatted correctly as ASM Disks.

Example

1) Create a new partition on the /dev/sdb disk as follow:
# fdisk /dev/sdX

2) You will see the new partition:
# ls -l /dev/sdX
brw-rw---- 1 root disk 8, 16 Sep 18 05:03 /dev/sdX
brw-rw---- 1 root disk 8, 17 Sep 18 05:03 /dev/sdX1

3) Then update the partition table with the new partition:
# /sbin/partprobe /dev/sdX1

4) Create the ASMLIB disk on the new partition:
# /etc/init.d/oracleasm createdisk VOL01 /dev/sdX1

5) Scan the disks (on all the nodes if RAC):
#/etc/init.d/oracleasm scandisks
Scanning system for ASM disks: OK ]

6) Make sure the disks can be listed :
#/etc/init.d/oracleasm listdisks
VOL1_10G

3) Query each disks:
#/etc/init.d/oracleasm querydisk VOL1_10G
Disk "VOL1_10G" is a valid ASM disk on device [3, 18]

4) Check if they exist at OS level:
#ls -l /dev/oracleasm/disks/VOL1_10G
brw-rw---- 1 oracle dba 3, 18 Aug 13 09:54 /dev/oracleasm/disks/VOL1_10G

The disks should now be detected with out any problems.

If you have any further questions or concerns update the SR and we would gladly assist.
If any further ASM issues persist let us know in order for the case to be transferred over to ASM.

I would like to provide as reference the following Documents.
How To Add a New Disk(s) to An Existing Diskgroup on RAC Cluster or Standalone ASM Configuration (Best Practices). (Doc ID 557348.1)
ASM is Unable to Detect ASMLIB Disks/Devices. (Doc ID 457369.1)
Unable To Create ASMLIB Disk (Doc ID 743949.1)

Solution 

SR: 3-10246384461

Summary : 
Once the new hard disk is inserted, can we simply increase size of the existing partition?
or does the new added hard disk has to be on a different partition?

If yes, do you have any documentation on how to do this.

***INTERNAL ONLY*** Creating a New ASM Disk Header After Existing One Is Corrupted (Doc ID 417687.1)***INTERNAL ONLY*** Creating a New ASM Disk Header After Existing One Is Corrupted (Doc ID 417687.1)
----------------------------------------------------------------------------------------------------------
handled by Nethravathi
Collab  SR: 3-10296319930  
 
Summary:  In the process of stopping database using srvctl command, it failed with cannot communicate with crsd:
PRCR-1079 : Failed to start resource ora.ebsd.db Cannot communicate with crsd ...
Tue Feb 17 09:48:16 PST 2015: Database Status PRCD-1027 : Failed to retrieve database EBSD
PRCR-1115 : Failed to find entities of type resource that match filters ((NAME == ora.ebsd.db) &&
(TYPE == ora.database.type)) and contain attributes VERSION,ORACLE_HOME,DATABASE_TYPE
Cannot communicate with crsd

Date: 5/3/2015
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
-=----------------------------------------------------------------------------------------------------------------------------------------------------

	 
    In the Patch Search section, click the Search tab.
	
    Enter 13390677 in the Patch Name or Number field.
    Select a platform to download from the drop-down list.
    Click Search.

    In the Patch Search Results page, under Patch Name, click the patch number to display the patch details.
    Click Download.
	From the File Download window, click each file name to download the selected software.
    
	Table 1 Installation Types and Associated Zip Files
    Installation Type     Zip File
    Oracle Database (includes Oracle Database and Oracle RAC)
	
    Note: you must download both zip files to install Oracle Database.   
    p13390677_112040_platform_1of7.zip
    p13390677_112040_platform_2of7.zip

    Oracle Grid Infrastructure (includes Oracle ASM, Oracle Clusterware, and Oracle Restart)
    p13390677_112040_platform_3of7.zip
	
	
How to Upgrade to Oracle Grid Infrastructure 11g Release 2
http://docs.oracle.com/cd/E11882_01/install.112/e48294/procstop.htm#CWAIX372


after upgrading to 11.2.0.4.0 update 

Note:19955028.8 11.2.0.4.5 (Jan 2015) Grid Infrastructure Patch Set Update (GI PSU) Yes Patch:19955028 <<----------(((( For Clusterware
Note:20132580.8 Combo of 11.2.0.4.2 OJVM PSU and 11.2.0.4.5 DB PSU (Jan 2015) Part Patch:20132580<<-----------(((( For Database


1. Grid Infrastructure (ASM as well) and CPU Patches
Things to Consider Before Upgrading to 11.2.0.3/11.2.0.4 Grid Infrastructure/ASM (Doc ID 1363369.1)
Alternative Way To Upgrade An ASM Standalone Configuration From Release 11.2.0.<#> to release 11.2.0.<#>. (Doc ID 1434351.1)
2. Oracle Database Patch Set and CPU Patches



If you have GI/ASM then you need to upgrade it first.

- Things to Consider Before Upgrading to 11.2.0.3/11.2.0.4 Grid Infrastructure/ASM (Doc ID 1363369.1)
- Alternative Way To Upgrade An ASM Standalone Configuration From Release 11.2.0.<#> to release 11.2.0.<#>. (Doc ID 1434351.1)

after upgrading to 11.2.0.4.0 please allply the the below patch set for your grid home.
Note:19955028.8 11.2.0.4.5 (Jan 2015) Grid Infrastructure Patch Set Update (GI PSU) Yes Patch:19955028 <<----------(((( For Clusterware


Following are the high level outlined action for upgrading your database from 11.2.0.3 to 11.2.0.4.

1. Shutdown Primary and Standby database
2. Stop all listeners, agents on all nodes. Also ASM if applicable
3. Install new release of Oracle Software in new Oracle home on Standby and Primary
4. Restart all listener, agents
5. startup Mount standby (upgraded version)
6. Start redo apply on standby
7. Upgrade the Primary database
8. Physical standby database(s) will be upgraded when the redo generated by the primary database as it is upgraded is applied.
9. Open the Upgraded Primary database

Upgrade completed.

There is an whitepaper on Database Rolling Upgrades Made Easy by Using a Data Guard Physical Standby Database

http://www.oracle.com/au/products/database/maa-wp-11g-upgrades-made-easy-131972.pdf

For rolling upgrade please refer the below documents.

Things to Consider Before Upgrading to 11.2.0.3/11.2.0.4 Grid Infrastructure/ASM (Doc ID 1363369.1)

11.2.0.1/11.2.0.2 to 11.2.0.3 Grid Infrastructure and Database Upgrade on Exadata Database Machine (Doc ID 1373255.1)

http://docs.oracle.com/cd/E11882_01/server.112/e25608/rollup.htm#SBYDB4884

http://docs.oracle.com/cd/E11882_01/server.112/e41134.pdf
Appendix 'B' Upgrading and Downgrading Databases in a Data Guard Configuration




If you are not using JAVAVM component apply
Note:19955028.8 11.2.0.4.5 (Jan 2015) Grid Infrastructure Patch Set Update (GI PSU) Yes Patch:19955028
Note:19769489.8 11.2.0.4.5 (Jan 2015) Database Patch Set Update (DB PSU) Yes Patch:19769489 
	
	
Let us know if you need further assistance on this.



Note 1194734.1 : Where do I find that on My Oracle Support (MOS) [Video]
Note 549617.1 : How To Verify The Integrity Of A Patch/Software Download? [Video]
Note 169706.1 : Oracle Database Installation and Configuration Requirements Quick Reference (8.0.5 to 11.2)
Note 551141.1 : Database Server Upgrade/Downgrade Compatibility Matrix


2. Finish the post installation steps as per the patchset README (readme.html).



Reference:
Oracle Database Upgrade Path Reference List (Doc ID 730365.1)

I hope this answers your query


And then refer below note for Db upgrade.
Complete checklist for out-of-place manual upgrade from previous 11.2.0.N version to the latest 11.2.0.N patchset. (Doc ID 1276368.1)

The primary and physical standby can't be on different patch versions. This is not supported. Please review the procedure of using logical standby to rolling upgrade database which takes minimum downtime.
http://www.oracle.com/technetwork/database/features/availability/maa-wp-11g-transientlogicalrollingu-1-131927.pdf
Using logical standby to rolling upgrade database from 11.1 to 11.2 (Doc ID 1557249.1) - An example of moving from 11.1 to 11.2


New SR : 3-10321717211 
Summary: Oracle Database from 11.2.0.3.0 to 11.2.0.4.0
----------------
In multipath.conf file ,what is defined for parameters below,
no_path_retry ==>> it should be queue to ensure queueing should not stop until the path is fixed.
Please upload the multipath.conf file for further analysis
Rakesh
SR:3-10321448851 
Summary: ASM 11.2.0.3 not using multi pathing correctly

--------------
1] Select GROUP_NUMBER,NAME,STATE from V$ASM_DISKGROUP
2] Select GROUP_NUMBER ,DISK_NUMBER, MOUNT_STATUS,HEADER_STATUS,MODE_STATUS,STATE,REDUNDANCY,NAME,PATH from V$ASM_DISK
3]show show parameter ASM_DISK

New SR:3-10318647901 
Summary: ASM Disk String

Date: 2/24/2015
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
-=----------------------------------------------------------------------------------------------------------------------------------------------------
Note.301137.1 OS Watcher Black Box User Guide (Doc ID 301137.1)
ORAchk - Health Checks for the Oracle Stack (Doc ID 1268927.2)
LINUX: POOR RAC-INTERCONNECT PERFORMANCE AFTER UPGRADE FROM RHEL3 TO RHEL4/OEL4 (Doc ID 400959.1)
If running EL4, it is highly recommended that the system be patched to a minimum version of EL 4.7

------------------------------------------------------------------------------------------------------------------------------------------------------
	DISK GROUP     VOLUME SPACE 
	EXPO_ITCRS124  EXPORT 280
	OCRS_ITCRS124  OCRS   1
	
	If you Database is using JAVAVM component
Note:19955028.8 11.2.0.4.5 (Jan 2015) Grid Infrastructure Patch Set Update (GI PSU) Yes Patch:19955028 <<----------(((( For Clusterware
Note:20132580.8 Combo of 11.2.0.4.2 OJVM PSU and 11.2.0.4.5 DB PSU (Jan 2015) Part Patch:20132580<<-----------(((( For Database

If you are not using JAVAVM component apply
Note:19955028.8 11.2.0.4.5 (Jan 2015) Grid Infrastructure Patch Set Update (GI PSU) Yes Patch:19955028
Note:19769489.8 11.2.0.4.5 (Jan 2015) Database Patch Set Update (DB PSU) Yes Patch:19769489 
	
	How to Identify and Diagnostic ASM Disk Overlapping by an OS Filesystem (ASM Disk Overlapping : Scenario #3) (Doc ID 1934304.1)
	16281803
152010   : 2015-04-09 17:52:41.899550 :    CSSD:74: calling              call     entry                argument values in hex
152011   : 2015-04-09 17:52:41.899561 :    CSSD:74: location             type     point                (? means dubious value)
152012   : 2015-04-09 17:52:41.899568 :    CSSD:74: -------------------- -------- -------------------- ----------------------------
152013   : 2015-04-09 17:52:41.930729 :    CSSD:74: clssscExit()+1014    call     kgdsdst()            FFFFFD7FF4CF5C50 ?
152014   : 2015-04-09 17:52:41.930751 :    CSSD:74:                                                    000000001 ?
152015   : 2015-04-09 17:52:41.930762 :    CSSD:74:                                                    FFFFFD7FFB993ECE ?
152016   : 2015-04-09 17:52:41.930777 :    CSSD:74:                                                    FFFFFD7FF4CCFBB8 ?
152017   : 2015-04-09 17:52:41.930787 :    CSSD:74:                                                    FFFFFD7FF4CD3150 ?
152018   : 2015-04-09 17:52:41.930794 :    CSSD:74:                                                    FFFFFD7FF4CCF398 ?
152019   : 2015-04-09 17:52:41.930823 :    CSSD:74: clssnmeventhndlr()+  call     clssscExit()         0027B8590 ? 000000002 ?
152020   : 2015-04-09 17:52:41.930833 :    CSSD:74: 2622                                               FFFFFD7FFB993ECE ?
152021   : 2015-04-09 17:52:41.930840 :    CSSD:74:                                                    FFFFFD7FF4CCFBB8 ?
152022   : 2015-04-09 17:52:41.930847 :    CSSD:74:                                                    FFFFFD7FF4CD3150 ?
152023   : 2015-04-09 17:52:41.930854 :    CSSD:74:                                                    FFFFFD7FF4CCF398 ?
152024   : 2015-04-09 17:52:41.930879 :    CSSD:74: clssscSelect()+1500  call     clssnmeventhndlr()   0027B8590 ? 000000002 ?
152025   : 2015-04-09 17:52:41.930898 :    CSSD:74:                                                    000B20010 ? 00000000F ?
152026   : 2015-04-09 17:52:41.930906 :    CSSD:74:                                                    FFFFFD7FF4CD3150 ?
152027   : 2015-04-09 17:52:41.930913 :    CSSD:74:                                                    FFFFFD7FF4CCF398 ?
152028   : 2015-04-09 17:52:41.930938 :    CSSD:74: clssnmClusterListen  call     clssscSelect()       0027B8590 ? 000B6F010 ?
152029   : 2015-04-09 17:52:41.930950 :    CSSD:74: er()+614                                           000000002 ? 00046E530 ?
152030   : 2015-04-09 17:52:41.930957 :    CSSD:74:                                                    FFFFFD7FF4CD3150 ?
152031   : 2015-04-09 17:52:41.930964 :    CSSD:74:                                                    FFFFFD7FF4CCF398 ?
152032   : 2015-04-09 17:52:41.930985 :    CSSD:74: clssscthrdmain()+24  call     clssnmClusterListen  0027B8590 ? 000B6F010 ?
152033   : 2015-04-09 17:52:41.930994 :    CSSD:74: 5                             er()                 000000002 ? 00046E530 ?
152034   : 2015-04-09 17:52:41.931002 :    CSSD:74:                                                    FFFFFD7FF4CD3150 ?
152035   : 2015-04-09 17:52:41.931009 :    CSSD:74:                                                    FFFFFD7FF4CCF398 ?
152036   : 2015-04-09 17:52:41.931030 :    CSSD:74: _thr_setup()+91      call     clssscthrdmain()     0027B8590 ? 000B6F010 ?
152037   : 2015-04-09 17:52:41.931039 :    CSSD:74:                                                    000000002 ? 00046E530 ?
152038   : 2015-04-09 17:52:41.931046 :    CSSD:74:                                                    FFFFFD7FF4CD3150 ?
152039   : 2015-04-09 17:52:41.931053 :    CSSD:74:                                                    FFFFFD7FF4CCF398 ?
152040   : 2015-04-09 17:52:41.931075 :    CSSD:74: _lwp_start()         call     _thr_setup()         FFFFFD7FF8053680 ?
152041   : 2015-04-09 17:52:41.931095 :    CSSD:74:                                                    000B6F010 ? 000000002 ?
152042   : 2015-04-09 17:52:41.931103 :    CSSD:74:                                                    00046E530 ?
152043   : 2015-04-09 17:52:41.931114 :    CSSD:74:                                                    FFFFFD7FF4CD3150 ?
152044   : 2015-04-09 17:52:41.931257 :    CSSD:74:                                                    FFFFFD7FF4CCF398 ?
	
	clssnmeventhndlr()+2622 <-clssscSelect()+1500<-clssnmClusterListener()+614<-clssscthrdmain()
	
	
	
	
	
	
	
	
Clarified customer that as per "NOTE 421308.1" below are the minimum version of "glib" rpms packages that customer must have for the functionality of the 10.2.0.5 DB.

Reference:
Requirements For Installing Oracle10gR2 On RHEL 5/OEL 5 (x86_64) (NOTE 421308.1)

glibc-2.5-12 (x86_64)
glibc-2.5-12 (i686)
glibc-common-2.5-12 (x86_64)
glibc-devel-2.5-12 (x86_64)
glibc-devel-2.5-12 (i386)
glibc-headers-2.5-12 (x86_64)




- If updating the current "glib" updates the version to higher version than the above, then there is no harm.
- While updating the glib packages databases and tje services must be down.
- After updating glib packages, please perform a manual relink as per below note
Note 131321.1 How to Relink Oracle Database Software on UNIX

- Additional references:
Note 444595.1 Relinking Oracle Home FAQ ( Frequently Asked Questions)
Scroll to section ==> 5) Is relinking required after an OS upgrade , Downgrade , Patching or removal of the patch ?

-------------------



bug 19300424 : ORA-15196: INVALID ASM BLOCK HEADER [KFC.C:26081] [CHECK_KFBH] [2147483679] [207

<-kfdp_query <-kfirefresh <-kfi_set_cb <-kfeinvokelockcallback <-kfgbattrlckregister <-kfgbdriver ORA-15196



@ While rebalance was running at that time and arb was trying to move 
@ allocation unit [+DATA1.258.736595131 (120 entries)] it fetch the disk image 
@ and checksum failed for allocation table .
@ .
ksedsts()+461<-kfdp_query()+530<-kfdPstSyncPriv()+575<-kfgbRefreshNow()+832<-kfgbTryFn()+1939<-kfgbTimeout()+1016
<-kfgbDriver()+2746<-ksbcti()+513<-ksbabs()+1735<-ksbrdp()+971<-opirip()+623<-opidrv()+603<-sou2o()+103<-opimai_real()+266
<-ssthrdmain()+252<-main()+201 <-__libc_start_main()+244<-_start()+36 

 ksedsts()+461 <-kfcReadBlk()+1934 <-kfcReadBuffer()+2329 <-kfcGet0()+8441 <-kfcGet1Priv()+1532 <-kfcGetPriv()+900
 <-kfcChangeDHPriv()+494 <-kfrGenerate()+3607 <-kfcCommitPriv()+7056 <-kffRelocateGeneric()+5224 <-kffRelocateSubmit()+53
 <-kffRelocate()+1642 <-kfdaExecute()+3802 <-kfgbRebalExecute()+774 <-kfgbDriver()+1899 <-ksbabs()+771 <-kfgbRun()+838
 <-ksbrdp()+971 <-opirip()+623 <-opidrv()+603 <-sou2o()+103 <-opimai_real()+266 <-ssthrdmain()+252 <-main()+201
 <-__libc_start_main()+244 <-_start()+36

 
 <-ksedsts()+315<-kfcReadBlk()+3055<-kfcReadBuffer()+1580<-kfcGet0()+21401<-kfc
@ Get1Priv()+964<-kfcGetPriv()+213<-kfdAtGetPriv()+392<-kfdAuOpsUpdate1_10()+385
@ <-kfdAuOpsUpdate()+464<-kffsrdUpdate()+792<-kffRelocateClientData()+4281<-kffR
@ elocate()+64<-kfdaExecute()+3979
@ <-kfgbRebalExecute()+715<-kfgbDriver()+1749<-ksbabs()+762<-kfgbRun()+833<-ksbr
@ dp()+1487<-opirip()+609<-opidrv()+554<-sou2o()+90<-opimai_real()+275<-ssthrdma
@ in()+177<-main()+215<-__libc_start_main()+244<-_start()+41

0001 1011 0100 0001 0110 0100 0000 1011  1b41640b
0010 1110 1100 0011 1000 1000 1111 0001  2ec388f1
ksedsts()+461
<-kfcReadBlk()+1934
<-kfcReadBuffer()+2329
<-kfcGet0()+8441
<-kfcGet1Priv()+1532
<-kfcGetPriv()+900
<-kfcChangeDHPriv()+494
<-kfrGenerate()+3607
<-kfcCommitPriv()+7056
<-kffRelocateGeneric()+5224
<-kffRelocateSubmit()+53
<-kffRelocate()+1642
<-kfdaExecute()+3802
<-kfgbRebalExecute()+774
<-kfgbDriver()+1899
<-ksbabs()+771
<-kfgbRun()+838
<-ksbrdp()+971
<-opirip()+623
<-opidrv()+603
<-sou2o()+103
<-opimai_real()+266
<-ssthrdmain()+252
<-main()+201
<-__libc_start_main()+244
<-_start()+36 


3-9456492681
GROUP_NUMBER NAME                                                                                       SECTOR_SIZE BLOCK_SIZE
------------ ------------------------------------------------------------------------------------------ ----------- ----------
ALLOCATION_UNIT_SIZE STATE                             TYPE                 TOTAL_MB    FREE_MB HOT_USED_MB COLD_USED_MB
-------------------- --------------------------------- ------------------ ---------- ---------- ----------- ------------
REQUIRED_MIRROR_FREE_MB USABLE_FILE_MB OFFLINE_DISKS
----------------------- -------------- -------------
COMPATIBILITY
------------------------------------------------------------------------------------------------------------------------------------
DATABASE_COMPATIBILITY
------------------------------------------------------------------------------------------------------------------------------------
VOT
---
           1 ARCH_IT0564ELM7_0                                                                                  512       4096
             1048576 MOUNTED                           EXTERN                1228784     867836           0       360948
                      0         867836             0
11.2.0.0.0
10.1.0.0.0
N

           2 BKUP_ITCRS124                                                                                      512       4096
             1048576 MOUNTED                           EXTERN                1535979    1118812           0       417167
                      0        1118812             0
11.2.0.0.0
10.1.0.0.0
N

           3 DATA_IT0564ELM7_0                                                                                  512       4096
             1048576 MOUNTED                           EXTERN                2047972     702851           0      1345121
                      0         702851             0
11.2.0.0.0
10.1.0.0.0
N

           4 OCRS_ITCRS124                                                                                      512       4096
             1048576 MOUNTED                           NORMAL                  15342      12308           0         3034
                   5114           3597             0
11.2.0.0.0
10.1.0.0.0
Y

           5 EXPO_ITCRS124                                                                                      512       4096
             1048576 MOUNTED                           EXTERN                 307196      20376           0       286820
                      0          20376             0
11.2.0.0.0
10.1.0.0.0
N

riyaz.ahamed.mohammad@oracle.com
18886789 kclcls_8

Patch 11gR2 Grid Infrastructure Standalone (Oracle Restart) (Doc ID 1089476.1)


CSSOPR2 instance is evicted and timing is 26-Jan-2015 16:07 & 18:08. 
 SR 3-9501730191
 

Issue #3  The problem instance was hanging before the instance crashes or is evicted
Symptoms:

The instance or database was hanging before the instance crashed/evicted.  It could also be that the node hang.
Possible causes:
Different processes such as lmon, lmd, and lms communicate with corresponding processes on other instances, so when the instance and database hang, those processes may be waiting for a resource such as a latch, an enqueue, or a data block.  Those processes that are waiting can not respond to the network ping or send any communication over the network to the remote instances.  As a result, other instances evict the problem instance.

You may see a message similar to the following in the alert.log of the instance that is evicting another instance:
Remote instance kill is issued [112:1]: 8
or
Evicting instance 2 from cluster
Solutions:
1) Find out the reason for the database or instance hang. Getting a global system state dump and global hang analyze output is critical when troubleshooting the database or instance hang issue. If the global system state dump can not be obtained, get the local system state dump from all instances around same time.
2) Check CHM (Cluster Health Monitor) output to see if the server had a CPU or memory load problem, network problem, or spinning lmd or lms processes. The CHM output is available only on some platforms and versions, so please check the CHM FAQ Document 1328466.1
3) Set up to run OSWatcher by following the instruction in the note Document 301137.1 if OSWatcher is not set up already.
Having OSWatcher output is helpful when CHM output is not available.

-----------------------------------------------------------------------------------------------------
Rerun DB Post Install or OJVM Post Install (whichever one reported the error)
For OJVM PSU  Patch:
+++++++++++++++++++++
cd $ORACLE_HOME/sqlpatch/19877440
sqlplus /nolog
SQL> CONNECT / AS SYSDBA
SQL> @postinstall.sql
SQL> quit
cd $ORACLE_HOME/rdbms/admin
sqlplus /nolog
SQL> CONNECT / AS SYSDBA
SQL> @utlrp.sql


+++++++++++++++++++++
For Database PSU patch:
+++++++++++++++++++++
cd $ORACLE_HOME/rdbms/admin
sqlplus /nolog
SQL> CONNECT / AS SYSDBA
SQL> STARTUP
SQL> @catbundle.sql psu apply
SQL> QUIT
cd $ORACLE_HOME/rdbms/admin
sqlplus /nolog
SQL> CONNECT / AS SYSDBA
SQL> @utlrp.sql 

This is regarding your spin of  SR 3-10169761511
CT name is Uday , I am unable to call to this guy, The number which he as provided ie 9052755678
is invalid , I had seen in your SR that you had called the CT , can you please check that this is the number 

This is regarding you closed SR 3-10256657171
CT was atuclly running EM12c Provisioning Patching
CT wants to know why you gave manually apply post patch instead from EM12c Provisioning Patching Deployment procedures 
I Just wants to confirm that it could also be done with EM12c Provisioning Patching right ?